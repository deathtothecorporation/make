!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).UrbitAPI={})}(this,(function(t){"use strict";const e=(t,e=0)=>({app:"contact-store",mark:`contact-update-${e}`,json:t}),r=(t,r)=>(r["last-updated"]=Date.now(),e({add:{ship:t,contact:r}})),n=t=>e({remove:{ship:t}}),i=(t,e=0)=>({app:"contact-push-hook",mark:"contact-share",json:{share:t}}),o=(t,r)=>e({edit:{ship:t,"edit-field":r,timestamp:Date.now()}}),a=t=>e({allow:{ships:t}}),s=(t,r)=>e({allow:{group:{ship:t,name:r}}}),u=t=>e({"set-public":t}),h=t=>({app:"contact-pull-hook",mark:"pull-hook-action",json:{add:{resource:{ship:t,name:""},ship:t}}}),l=(t,e,r,n)=>({app:"contact-store",path:`/is-allowed/${t}/${e}/${r}/${n?"true":"false"}`});var p=Object.freeze({__proto__:null,CONTACT_UPDATE_VERSION:0,contactStoreAction:e,addContact:r,removeContact:n,share:i,editContact:o,allowShips:a,allowGroup:s,setPublic:u,retrieve:h,fetchIsAllowed:l});const c=(t,e=0)=>({app:"group-push-hook",mark:`group-update-${e}`,json:t}),f=(t,e=0)=>({app:"group-store",mark:`group-update-${e}`,json:t}),d=t=>({app:"group-view",mark:"group-view-action",json:t}),m=(t,e)=>({inputMark:"group-view-action",outputMark:"json",threadName:t,body:e}),v=(t,e)=>c({removeMembers:{resource:t,ships:e}}),g=(t,e,r)=>c({addTag:{resource:t,tag:e,ships:r}}),y=(t,e,r)=>c({removeTag:{tag:t,resource:e,ships:r}}),w=(t,e)=>c({addMembers:{resource:t,ships:e}}),b=t=>f({removeGroup:{resource:t}}),M=(t,e)=>c({changePolicy:{resource:t,diff:e}}),k=(t,e,r,n,i)=>d({join:{resource:B(t,e),ship:t,shareContact:i||!1,app:r,autojoin:n}}),_=(t,e,r,n)=>m("group-create",{create:{name:t,policy:e,title:r,description:n}}),A=(t,e)=>m("group-delete",{remove:B(t,e)}),S=(t,e)=>m("group-leave",{leave:B(t,e)}),j=(t,e,r,n)=>m("group-invite",{invite:{resource:B(t,e),ships:r,description:n}}),O=t=>d({abort:t}),x=["janitor","moderator","admin"],P={group:()=>({members:[],tags:{role:{}},hidden:!1,policy:P.policy()}),policy:()=>({open:{banned:[],banRanks:[]}})},E=["no-perms","strange","abort"],N=["done",...E],I=["start","added","metadata"],q=[...I,...N];function T(t,e){return x.reduce(((r,n)=>{const i=t?.tags?.role?.[n];return i&&i.includes(e)?n:r}),void 0)}function $(t){const[,,e,r]=t.split("/");return{ship:e,name:r}}function B(t,e){return{ship:t,name:e}}const D=(t,e,r)=>{const n=t?.tags?.graph,i=n&&n[e]?.writers,o=t?.tags?.role?.admin??[];return void 0===i||([...i].includes(r)||o.includes(r))};function R(t,e,r){const n=T(t,W(r));return C(e,r)||"admin"===n||"moderator"===n}function C(t,e){const[,,r]=t.split("/");return e===r}var z=Object.freeze({__proto__:null,GROUP_UPDATE_VERSION:0,proxyAction:c,groupStoreAction:f,groupViewAction:d,viewThread:m,removeMembers:v,addTag:g,removeTag:y,addMembers:w,removeGroup:b,changePolicy:M,join:k,createGroup:_,deleteGroup:A,leaveGroup:S,invite:j,abortJoin:O,roleTags:x,groupBunts:P,joinError:E,joinResult:N,joinLoad:I,joinProgress:q,roleForShip:T,resourceFromPath:$,makeResource:B,isWriter:D,isChannelAdmin:R,isHost:C}),G="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},U={exports:{}};!function(t){var e=function(t){var r=1e7,n=9007199254740992,i=c(n),o="0123456789abcdefghijklmnopqrstuvwxyz",a="function"==typeof BigInt;function s(t,e,r,n){return void 0===t?s[0]:void 0!==e&&(10!=+e||r)?L(t,e,r,n):K(t)}function u(t,e){this.value=t,this.sign=e,this.isSmall=!1}function h(t){this.value=t,this.sign=t<0,this.isSmall=!0}function l(t){this.value=t}function p(t){return-n<t&&t<n}function c(t){return t<1e7?[t]:t<1e14?[t%1e7,Math.floor(t/1e7)]:[t%1e7,Math.floor(t/1e7)%1e7,Math.floor(t/1e14)]}function f(t){d(t);var e=t.length;if(e<4&&E(t,i)<0)switch(e){case 0:return 0;case 1:return t[0];case 2:return t[0]+t[1]*r;default:return t[0]+(t[1]+t[2]*r)*r}return t}function d(t){for(var e=t.length;0===t[--e];);t.length=e+1}function m(t){for(var e=new Array(t),r=-1;++r<t;)e[r]=0;return e}function v(t){return t>0?Math.floor(t):Math.ceil(t)}function g(t,e){var n,i,o=t.length,a=e.length,s=new Array(o),u=0,h=r;for(i=0;i<a;i++)u=(n=t[i]+e[i]+u)>=h?1:0,s[i]=n-u*h;for(;i<o;)u=(n=t[i]+u)===h?1:0,s[i++]=n-u*h;return u>0&&s.push(u),s}function y(t,e){return t.length>=e.length?g(t,e):g(e,t)}function w(t,e){var n,i,o=t.length,a=new Array(o),s=r;for(i=0;i<o;i++)n=t[i]-s+e,e=Math.floor(n/s),a[i]=n-e*s,e+=1;for(;e>0;)a[i++]=e%s,e=Math.floor(e/s);return a}function b(t,e){var n,i,o=t.length,a=e.length,s=new Array(o),u=0,h=r;for(n=0;n<a;n++)(i=t[n]-u-e[n])<0?(i+=h,u=1):u=0,s[n]=i;for(n=a;n<o;n++){if(!((i=t[n]-u)<0)){s[n++]=i;break}i+=h,s[n]=i}for(;n<o;n++)s[n]=t[n];return d(s),s}function M(t,e,n){var i,o,a=t.length,s=new Array(a),l=-e,p=r;for(i=0;i<a;i++)o=t[i]+l,l=Math.floor(o/p),o%=p,s[i]=o<0?o+p:o;return"number"==typeof(s=f(s))?(n&&(s=-s),new h(s)):new u(s,n)}function k(t,e){var n,i,o,a,s=t.length,u=e.length,h=m(s+u),l=r;for(o=0;o<s;++o){a=t[o];for(var p=0;p<u;++p)n=a*e[p]+h[o+p],i=Math.floor(n/l),h[o+p]=n-i*l,h[o+p+1]+=i}return d(h),h}function _(t,e){var n,i,o=t.length,a=new Array(o),s=r,u=0;for(i=0;i<o;i++)n=t[i]*e+u,u=Math.floor(n/s),a[i]=n-u*s;for(;u>0;)a[i++]=u%s,u=Math.floor(u/s);return a}function A(t,e){for(var r=[];e-- >0;)r.push(0);return r.concat(t)}function S(t,e){var r=Math.max(t.length,e.length);if(r<=30)return k(t,e);r=Math.ceil(r/2);var n=t.slice(r),i=t.slice(0,r),o=e.slice(r),a=e.slice(0,r),s=S(i,a),u=S(n,o),h=S(y(i,n),y(a,o)),l=y(y(s,A(b(b(h,s),u),r)),A(u,2*r));return d(l),l}function j(t,e,n){return new u(t<r?_(e,t):k(e,c(t)),n)}function O(t){var e,n,i,o,a=t.length,s=m(a+a),u=r;for(i=0;i<a;i++){n=0-(o=t[i])*o;for(var h=i;h<a;h++)e=o*t[h]*2+s[i+h]+n,n=Math.floor(e/u),s[i+h]=e-n*u;s[i+a]=n}return d(s),s}function x(t,e){var r,n,i,o,a=t.length,s=m(a);for(i=0,r=a-1;r>=0;--r)i=(o=1e7*i+t[r])-(n=v(o/e))*e,s[r]=0|n;return[s,0|i]}function P(t,e){var n,i=K(e);if(a)return[new l(t.value/i.value),new l(t.value%i.value)];var o,p=t.value,g=i.value;if(0===g)throw new Error("Cannot divide by zero");if(t.isSmall)return i.isSmall?[new h(v(p/g)),new h(p%g)]:[s[0],t];if(i.isSmall){if(1===g)return[t,s[0]];if(-1==g)return[t.negate(),s[0]];var y=Math.abs(g);if(y<r){o=f((n=x(p,y))[0]);var w=n[1];return t.sign&&(w=-w),"number"==typeof o?(t.sign!==i.sign&&(o=-o),[new h(o),new h(w)]):[new u(o,t.sign!==i.sign),new h(w)]}g=c(y)}var M=E(p,g);if(-1===M)return[s[0],t];if(0===M)return[s[t.sign===i.sign?1:-1],s[0]];n=p.length+g.length<=200?function(t,e){var n,i,o,a,s,u,h,l=t.length,p=e.length,c=r,d=m(e.length),v=e[p-1],g=Math.ceil(c/(2*v)),y=_(t,g),w=_(e,g);for(y.length<=l&&y.push(0),w.push(0),v=w[p-1],i=l-p;i>=0;i--){for(n=c-1,y[i+p]!==v&&(n=Math.floor((y[i+p]*c+y[i+p-1])/v)),o=0,a=0,u=w.length,s=0;s<u;s++)o+=n*w[s],h=Math.floor(o/c),a+=y[i+s]-(o-h*c),o=h,a<0?(y[i+s]=a+c,a=-1):(y[i+s]=a,a=0);for(;0!==a;){for(n-=1,o=0,s=0;s<u;s++)(o+=y[i+s]-c+w[s])<0?(y[i+s]=o+c,o=0):(y[i+s]=o,o=1);a+=o}d[i]=n}return y=x(y,g)[0],[f(d),f(y)]}(p,g):function(t,e){for(var n,i,o,a,s,u=t.length,h=e.length,l=[],p=[],c=r;u;)if(p.unshift(t[--u]),d(p),E(p,e)<0)l.push(0);else{o=p[(i=p.length)-1]*c+p[i-2],a=e[h-1]*c+e[h-2],i>h&&(o=(o+1)*c),n=Math.ceil(o/a);do{if(E(s=_(e,n),p)<=0)break;n--}while(n);l.push(n),p=b(p,s)}return l.reverse(),[f(l),f(p)]}(p,g),o=n[0];var k=t.sign!==i.sign,A=n[1],S=t.sign;return"number"==typeof o?(k&&(o=-o),o=new h(o)):o=new u(o,k),"number"==typeof A?(S&&(A=-A),A=new h(A)):A=new u(A,S),[o,A]}function E(t,e){if(t.length!==e.length)return t.length>e.length?1:-1;for(var r=t.length-1;r>=0;r--)if(t[r]!==e[r])return t[r]>e[r]?1:-1;return 0}function N(t){var e=t.abs();return!e.isUnit()&&(!!(e.equals(2)||e.equals(3)||e.equals(5))||!(e.isEven()||e.isDivisibleBy(3)||e.isDivisibleBy(5))&&(!!e.lesser(49)||void 0))}function I(t,r){for(var n,i,o,a=t.prev(),s=a,u=0;s.isEven();)s=s.divide(2),u++;t:for(i=0;i<r.length;i++)if(!t.lesser(r[i])&&!(o=e(r[i]).modPow(s,t)).isUnit()&&!o.equals(a)){for(n=u-1;0!=n;n--){if((o=o.square().mod(t)).isUnit())return!1;if(o.equals(a))continue t}return!1}return!0}u.prototype=Object.create(s.prototype),h.prototype=Object.create(s.prototype),l.prototype=Object.create(s.prototype),u.prototype.add=function(t){var e=K(t);if(this.sign!==e.sign)return this.subtract(e.negate());var r=this.value,n=e.value;return e.isSmall?new u(w(r,Math.abs(n)),this.sign):new u(y(r,n),this.sign)},u.prototype.plus=u.prototype.add,h.prototype.add=function(t){var e=K(t),r=this.value;if(r<0!==e.sign)return this.subtract(e.negate());var n=e.value;if(e.isSmall){if(p(r+n))return new h(r+n);n=c(Math.abs(n))}return new u(w(n,Math.abs(r)),r<0)},h.prototype.plus=h.prototype.add,l.prototype.add=function(t){return new l(this.value+K(t).value)},l.prototype.plus=l.prototype.add,u.prototype.subtract=function(t){var e=K(t);if(this.sign!==e.sign)return this.add(e.negate());var r=this.value,n=e.value;return e.isSmall?M(r,Math.abs(n),this.sign):function(t,e,r){var n;return E(t,e)>=0?n=b(t,e):(n=b(e,t),r=!r),"number"==typeof(n=f(n))?(r&&(n=-n),new h(n)):new u(n,r)}(r,n,this.sign)},u.prototype.minus=u.prototype.subtract,h.prototype.subtract=function(t){var e=K(t),r=this.value;if(r<0!==e.sign)return this.add(e.negate());var n=e.value;return e.isSmall?new h(r-n):M(n,Math.abs(r),r>=0)},h.prototype.minus=h.prototype.subtract,l.prototype.subtract=function(t){return new l(this.value-K(t).value)},l.prototype.minus=l.prototype.subtract,u.prototype.negate=function(){return new u(this.value,!this.sign)},h.prototype.negate=function(){var t=this.sign,e=new h(-this.value);return e.sign=!t,e},l.prototype.negate=function(){return new l(-this.value)},u.prototype.abs=function(){return new u(this.value,!1)},h.prototype.abs=function(){return new h(Math.abs(this.value))},l.prototype.abs=function(){return new l(this.value>=0?this.value:-this.value)},u.prototype.multiply=function(t){var e,n,i,o=K(t),a=this.value,h=o.value,l=this.sign!==o.sign;if(o.isSmall){if(0===h)return s[0];if(1===h)return this;if(-1===h)return this.negate();if((e=Math.abs(h))<r)return new u(_(a,e),l);h=c(e)}return n=a.length,i=h.length,new u(-.012*n-.012*i+15e-6*n*i>0?S(a,h):k(a,h),l)},u.prototype.times=u.prototype.multiply,h.prototype._multiplyBySmall=function(t){return p(t.value*this.value)?new h(t.value*this.value):j(Math.abs(t.value),c(Math.abs(this.value)),this.sign!==t.sign)},u.prototype._multiplyBySmall=function(t){return 0===t.value?s[0]:1===t.value?this:-1===t.value?this.negate():j(Math.abs(t.value),this.value,this.sign!==t.sign)},h.prototype.multiply=function(t){return K(t)._multiplyBySmall(this)},h.prototype.times=h.prototype.multiply,l.prototype.multiply=function(t){return new l(this.value*K(t).value)},l.prototype.times=l.prototype.multiply,u.prototype.square=function(){return new u(O(this.value),!1)},h.prototype.square=function(){var t=this.value*this.value;return p(t)?new h(t):new u(O(c(Math.abs(this.value))),!1)},l.prototype.square=function(t){return new l(this.value*this.value)},u.prototype.divmod=function(t){var e=P(this,t);return{quotient:e[0],remainder:e[1]}},l.prototype.divmod=h.prototype.divmod=u.prototype.divmod,u.prototype.divide=function(t){return P(this,t)[0]},l.prototype.over=l.prototype.divide=function(t){return new l(this.value/K(t).value)},h.prototype.over=h.prototype.divide=u.prototype.over=u.prototype.divide,u.prototype.mod=function(t){return P(this,t)[1]},l.prototype.mod=l.prototype.remainder=function(t){return new l(this.value%K(t).value)},h.prototype.remainder=h.prototype.mod=u.prototype.remainder=u.prototype.mod,u.prototype.pow=function(t){var e,r,n,i=K(t),o=this.value,a=i.value;if(0===a)return s[1];if(0===o)return s[0];if(1===o)return s[1];if(-1===o)return i.isEven()?s[1]:s[-1];if(i.sign)return s[0];if(!i.isSmall)throw new Error("The exponent "+i.toString()+" is too large.");if(this.isSmall&&p(e=Math.pow(o,a)))return new h(v(e));for(r=this,n=s[1];!0&a&&(n=n.times(r),--a),0!==a;)a/=2,r=r.square();return n},h.prototype.pow=u.prototype.pow,l.prototype.pow=function(t){var e=K(t),r=this.value,n=e.value,i=BigInt(0),o=BigInt(1),a=BigInt(2);if(n===i)return s[1];if(r===i)return s[0];if(r===o)return s[1];if(r===BigInt(-1))return e.isEven()?s[1]:s[-1];if(e.isNegative())return new l(i);for(var u=this,h=s[1];(n&o)===o&&(h=h.times(u),--n),n!==i;)n/=a,u=u.square();return h},u.prototype.modPow=function(t,e){if(t=K(t),(e=K(e)).isZero())throw new Error("Cannot take modPow with modulus 0");var r=s[1],n=this.mod(e);for(t.isNegative()&&(t=t.multiply(s[-1]),n=n.modInv(e));t.isPositive();){if(n.isZero())return s[0];t.isOdd()&&(r=r.multiply(n).mod(e)),t=t.divide(2),n=n.square().mod(e)}return r},l.prototype.modPow=h.prototype.modPow=u.prototype.modPow,u.prototype.compareAbs=function(t){var e=K(t),r=this.value,n=e.value;return e.isSmall?1:E(r,n)},h.prototype.compareAbs=function(t){var e=K(t),r=Math.abs(this.value),n=e.value;return e.isSmall?r===(n=Math.abs(n))?0:r>n?1:-1:-1},l.prototype.compareAbs=function(t){var e=this.value,r=K(t).value;return(e=e>=0?e:-e)===(r=r>=0?r:-r)?0:e>r?1:-1},u.prototype.compare=function(t){if(t===1/0)return-1;if(t===-1/0)return 1;var e=K(t),r=this.value,n=e.value;return this.sign!==e.sign?e.sign?1:-1:e.isSmall?this.sign?-1:1:E(r,n)*(this.sign?-1:1)},u.prototype.compareTo=u.prototype.compare,h.prototype.compare=function(t){if(t===1/0)return-1;if(t===-1/0)return 1;var e=K(t),r=this.value,n=e.value;return e.isSmall?r==n?0:r>n?1:-1:r<0!==e.sign?r<0?-1:1:r<0?1:-1},h.prototype.compareTo=h.prototype.compare,l.prototype.compare=function(t){if(t===1/0)return-1;if(t===-1/0)return 1;var e=this.value,r=K(t).value;return e===r?0:e>r?1:-1},l.prototype.compareTo=l.prototype.compare,u.prototype.equals=function(t){return 0===this.compare(t)},l.prototype.eq=l.prototype.equals=h.prototype.eq=h.prototype.equals=u.prototype.eq=u.prototype.equals,u.prototype.notEquals=function(t){return 0!==this.compare(t)},l.prototype.neq=l.prototype.notEquals=h.prototype.neq=h.prototype.notEquals=u.prototype.neq=u.prototype.notEquals,u.prototype.greater=function(t){return this.compare(t)>0},l.prototype.gt=l.prototype.greater=h.prototype.gt=h.prototype.greater=u.prototype.gt=u.prototype.greater,u.prototype.lesser=function(t){return this.compare(t)<0},l.prototype.lt=l.prototype.lesser=h.prototype.lt=h.prototype.lesser=u.prototype.lt=u.prototype.lesser,u.prototype.greaterOrEquals=function(t){return this.compare(t)>=0},l.prototype.geq=l.prototype.greaterOrEquals=h.prototype.geq=h.prototype.greaterOrEquals=u.prototype.geq=u.prototype.greaterOrEquals,u.prototype.lesserOrEquals=function(t){return this.compare(t)<=0},l.prototype.leq=l.prototype.lesserOrEquals=h.prototype.leq=h.prototype.lesserOrEquals=u.prototype.leq=u.prototype.lesserOrEquals,u.prototype.isEven=function(){return 0==(1&this.value[0])},h.prototype.isEven=function(){return 0==(1&this.value)},l.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},u.prototype.isOdd=function(){return 1==(1&this.value[0])},h.prototype.isOdd=function(){return 1==(1&this.value)},l.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},u.prototype.isPositive=function(){return!this.sign},h.prototype.isPositive=function(){return this.value>0},l.prototype.isPositive=h.prototype.isPositive,u.prototype.isNegative=function(){return this.sign},h.prototype.isNegative=function(){return this.value<0},l.prototype.isNegative=h.prototype.isNegative,u.prototype.isUnit=function(){return!1},h.prototype.isUnit=function(){return 1===Math.abs(this.value)},l.prototype.isUnit=function(){return this.abs().value===BigInt(1)},u.prototype.isZero=function(){return!1},h.prototype.isZero=function(){return 0===this.value},l.prototype.isZero=function(){return this.value===BigInt(0)},u.prototype.isDivisibleBy=function(t){var e=K(t);return!e.isZero()&&(!!e.isUnit()||(0===e.compareAbs(2)?this.isEven():this.mod(e).isZero()))},l.prototype.isDivisibleBy=h.prototype.isDivisibleBy=u.prototype.isDivisibleBy,u.prototype.isPrime=function(r){var n=N(this);if(n!==t)return n;var i=this.abs(),o=i.bitLength();if(o<=64)return I(i,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var a=Math.log(2)*o.toJSNumber(),s=Math.ceil(!0===r?2*Math.pow(a,2):a),u=[],h=0;h<s;h++)u.push(e(h+2));return I(i,u)},l.prototype.isPrime=h.prototype.isPrime=u.prototype.isPrime,u.prototype.isProbablePrime=function(r,n){var i=N(this);if(i!==t)return i;for(var o=this.abs(),a=r===t?5:r,s=[],u=0;u<a;u++)s.push(e.randBetween(2,o.minus(2),n));return I(o,s)},l.prototype.isProbablePrime=h.prototype.isProbablePrime=u.prototype.isProbablePrime,u.prototype.modInv=function(t){for(var r,n,i,o=e.zero,a=e.one,s=K(t),u=this.abs();!u.isZero();)r=s.divide(u),n=o,i=s,o=a,s=u,a=n.subtract(r.multiply(a)),u=i.subtract(r.multiply(u));if(!s.isUnit())throw new Error(this.toString()+" and "+t.toString()+" are not co-prime");return-1===o.compare(0)&&(o=o.add(t)),this.isNegative()?o.negate():o},l.prototype.modInv=h.prototype.modInv=u.prototype.modInv,u.prototype.next=function(){var t=this.value;return this.sign?M(t,1,this.sign):new u(w(t,1),this.sign)},h.prototype.next=function(){var t=this.value;return t+1<n?new h(t+1):new u(i,!1)},l.prototype.next=function(){return new l(this.value+BigInt(1))},u.prototype.prev=function(){var t=this.value;return this.sign?new u(w(t,1),!0):M(t,1,this.sign)},h.prototype.prev=function(){var t=this.value;return t-1>-n?new h(t-1):new u(i,!0)},l.prototype.prev=function(){return new l(this.value-BigInt(1))};for(var q=[1];2*q[q.length-1]<=r;)q.push(2*q[q.length-1]);var T=q.length,$=q[T-1];function B(t){return Math.abs(t)<=r}function D(t,r,n){r=K(r);for(var i=t.isNegative(),o=r.isNegative(),a=i?t.not():t,s=o?r.not():r,u=0,h=0,l=null,p=null,c=[];!a.isZero()||!s.isZero();)u=(l=P(a,$))[1].toJSNumber(),i&&(u=$-1-u),h=(p=P(s,$))[1].toJSNumber(),o&&(h=$-1-h),a=l[0],s=p[0],c.push(n(u,h));for(var f=0!==n(i?1:0,o?1:0)?e(-1):e(0),d=c.length-1;d>=0;d-=1)f=f.multiply($).add(e(c[d]));return f}u.prototype.shiftLeft=function(t){var e=K(t).toJSNumber();if(!B(e))throw new Error(String(e)+" is too large for shifting.");if(e<0)return this.shiftRight(-e);var r=this;if(r.isZero())return r;for(;e>=T;)r=r.multiply($),e-=T-1;return r.multiply(q[e])},l.prototype.shiftLeft=h.prototype.shiftLeft=u.prototype.shiftLeft,u.prototype.shiftRight=function(t){var e,r=K(t).toJSNumber();if(!B(r))throw new Error(String(r)+" is too large for shifting.");if(r<0)return this.shiftLeft(-r);for(var n=this;r>=T;){if(n.isZero()||n.isNegative()&&n.isUnit())return n;n=(e=P(n,$))[1].isNegative()?e[0].prev():e[0],r-=T-1}return(e=P(n,q[r]))[1].isNegative()?e[0].prev():e[0]},l.prototype.shiftRight=h.prototype.shiftRight=u.prototype.shiftRight,u.prototype.not=function(){return this.negate().prev()},l.prototype.not=h.prototype.not=u.prototype.not,u.prototype.and=function(t){return D(this,t,(function(t,e){return t&e}))},l.prototype.and=h.prototype.and=u.prototype.and,u.prototype.or=function(t){return D(this,t,(function(t,e){return t|e}))},l.prototype.or=h.prototype.or=u.prototype.or,u.prototype.xor=function(t){return D(this,t,(function(t,e){return t^e}))},l.prototype.xor=h.prototype.xor=u.prototype.xor;var R=1<<30;function C(t){var e=t.value,n="number"==typeof e?e|R:"bigint"==typeof e?e|BigInt(R):e[0]+e[1]*r|1073758208;return n&-n}function z(t,r){if(r.compareTo(t)<=0){var n=z(t,r.square(r)),i=n.p,o=n.e,a=i.multiply(r);return a.compareTo(t)<=0?{p:a,e:2*o+1}:{p:i,e:2*o}}return{p:e(1),e:0}}function G(t,e){return t=K(t),e=K(e),t.greater(e)?t:e}function U(t,e){return t=K(t),e=K(e),t.lesser(e)?t:e}function Z(t,e){if(t=K(t).abs(),e=K(e).abs(),t.equals(e))return t;if(t.isZero())return e;if(e.isZero())return t;for(var r,n,i=s[1];t.isEven()&&e.isEven();)r=U(C(t),C(e)),t=t.divide(r),e=e.divide(r),i=i.multiply(r);for(;t.isEven();)t=t.divide(C(t));do{for(;e.isEven();)e=e.divide(C(e));t.greater(e)&&(n=e,e=t,t=n),e=e.subtract(t)}while(!e.isZero());return i.isUnit()?t:t.multiply(i)}u.prototype.bitLength=function(){var t=this;return t.compareTo(e(0))<0&&(t=t.negate().subtract(e(1))),0===t.compareTo(e(0))?e(0):e(z(t,e(2)).e).add(e(1))},l.prototype.bitLength=h.prototype.bitLength=u.prototype.bitLength;var L=function(t,e,r,n){r=r||o,t=String(t),n||(t=t.toLowerCase(),r=r.toLowerCase());var i,a=t.length,s=Math.abs(e),u={};for(i=0;i<r.length;i++)u[r[i]]=i;for(i=0;i<a;i++){if("-"!==(p=t[i])&&(p in u&&u[p]>=s)){if("1"===p&&1===s)continue;throw new Error(p+" is not a valid digit in base "+e+".")}}e=K(e);var h=[],l="-"===t[0];for(i=l?1:0;i<t.length;i++){var p;if((p=t[i])in u)h.push(K(u[p]));else{if("<"!==p)throw new Error(p+" is not a valid character");var c=i;do{i++}while(">"!==t[i]&&i<t.length);h.push(K(t.slice(c+1,i)))}}return F(h,e,l)};function F(t,e,r){var n,i=s[0],o=s[1];for(n=t.length-1;n>=0;n--)i=i.add(t[n].times(o)),o=o.times(e);return r?i.negate():i}function V(t,r){if((r=e(r)).isZero()){if(t.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(r.equals(-1)){if(t.isZero())return{value:[0],isNegative:!1};if(t.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-t.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var n=Array.apply(null,Array(t.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return n.unshift([1]),{value:[].concat.apply([],n),isNegative:!1}}var i=!1;if(t.isNegative()&&r.isPositive()&&(i=!0,t=t.abs()),r.isUnit())return t.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(t.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:i};for(var o,a=[],s=t;s.isNegative()||s.compareAbs(r)>=0;){o=s.divmod(r),s=o.quotient;var u=o.remainder;u.isNegative()&&(u=r.minus(u).abs(),s=s.next()),a.push(u.toJSNumber())}return a.push(s.toJSNumber()),{value:a.reverse(),isNegative:i}}function J(t,e,r){var n=V(t,e);return(n.isNegative?"-":"")+n.value.map((function(t){return function(t,e){return t<(e=e||o).length?e[t]:"<"+t+">"}(t,r)})).join("")}function H(t){if(p(+t)){var e=+t;if(e===v(e))return a?new l(BigInt(e)):new h(e);throw new Error("Invalid integer: "+t)}var r="-"===t[0];r&&(t=t.slice(1));var n=t.split(/e/i);if(n.length>2)throw new Error("Invalid integer: "+n.join("e"));if(2===n.length){var i=n[1];if("+"===i[0]&&(i=i.slice(1)),(i=+i)!==v(i)||!p(i))throw new Error("Invalid integer: "+i+" is not a valid exponent.");var o=n[0],s=o.indexOf(".");if(s>=0&&(i-=o.length-s-1,o=o.slice(0,s)+o.slice(s+1)),i<0)throw new Error("Cannot include negative exponent part for integers");t=o+=new Array(i+1).join("0")}if(!/^([0-9][0-9]*)$/.test(t))throw new Error("Invalid integer: "+t);if(a)return new l(BigInt(r?"-"+t:t));for(var c=[],f=t.length,m=f-7;f>0;)c.push(+t.slice(m,f)),(m-=7)<0&&(m=0),f-=7;return d(c),new u(c,r)}function K(t){return"number"==typeof t?function(t){if(a)return new l(BigInt(t));if(p(t)){if(t!==v(t))throw new Error(t+" is not an integer.");return new h(t)}return H(t.toString())}(t):"string"==typeof t?H(t):"bigint"==typeof t?new l(t):t}u.prototype.toArray=function(t){return V(this,t)},h.prototype.toArray=function(t){return V(this,t)},l.prototype.toArray=function(t){return V(this,t)},u.prototype.toString=function(e,r){if(e===t&&(e=10),10!==e)return J(this,e,r);for(var n,i=this.value,o=i.length,a=String(i[--o]);--o>=0;)n=String(i[o]),a+="0000000".slice(n.length)+n;return(this.sign?"-":"")+a},h.prototype.toString=function(e,r){return e===t&&(e=10),10!=e?J(this,e,r):String(this.value)},l.prototype.toString=h.prototype.toString,l.prototype.toJSON=u.prototype.toJSON=h.prototype.toJSON=function(){return this.toString()},u.prototype.valueOf=function(){return parseInt(this.toString(),10)},u.prototype.toJSNumber=u.prototype.valueOf,h.prototype.valueOf=function(){return this.value},h.prototype.toJSNumber=h.prototype.valueOf,l.prototype.valueOf=l.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};for(var W=0;W<1e3;W++)s[W]=K(W),W>0&&(s[-W]=K(-W));return s.one=s[1],s.zero=s[0],s.minusOne=s[-1],s.max=G,s.min=U,s.gcd=Z,s.lcm=function(t,e){return t=K(t).abs(),e=K(e).abs(),t.divide(Z(t,e)).multiply(e)},s.isInstance=function(t){return t instanceof u||t instanceof h||t instanceof l},s.randBetween=function(t,e,n){t=K(t),e=K(e);var i=n||Math.random,o=U(t,e),a=G(t,e).subtract(o).add(1);if(a.isSmall)return o.add(Math.floor(i()*a));for(var u=V(a,r).value,h=[],l=!0,p=0;p<u.length;p++){var c=l?u[p]:r,f=v(i()*c);h.push(f),f<c&&(l=!1)}return o.add(s.fromArray(h,r,!1))},s.fromArray=function(t,e,r){return F(t.map(K),K(e||10),r)},s}();t.hasOwnProperty("exports")&&(t.exports=e)}(U);var Z=U.exports;const L=Z("170141184475152167957503069145530368000"),F=Z("18446744073709551616");function V(t,e){let r=[],n=[r];for(let i=0;i<t.length;i++)r.length<e?r.push(t[i]):(r=[t[i]],n.push(r));return n}function J(t){const e=Z(t).multiply(F).divide(Z(1e3));return L.add(e)}function H(t){return t.replace(/\./g,"")}function K(t){return V(t.split("").reverse(),3).map((t=>t.reverse().join(""))).reverse().join(".").replace(/^[0\.]+/g,"")}function W(t){return t?t.replace("~",""):null}function Y(t){if(t.length>2&&"0x"===t.substr(0,2)){return t.substr(2).replace(".","").padStart(6,"0")}return t.replace(".","").padStart(6,"0")}var X={exports:{}};!function(t){!function(t,e){function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function i(t,e,r){if(i.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:require("buffer").Buffer}catch(t){}function a(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function s(t,e,r){var n=a(t,r);return r-1>=e&&(n|=a(t,r-1)<<4),n}function u(t,e,r,n){for(var i=0,o=Math.min(t.length,r),a=e;a<o;a++){var s=t.charCodeAt(a)-48;i*=n,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}i.isBN=function(t){return t instanceof i||null!==t&&"object"==typeof t&&t.constructor.wordSize===i.wordSize&&Array.isArray(t.words)},i.max=function(t,e){return t.cmp(e)>0?t:e},i.min=function(t,e){return t.cmp(e)<0?t:e},i.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)))},i.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},i.prototype._initArray=function(t,e,n){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=t.length-1,o=0;i>=0;i-=3)a=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<t.length;i+=3)a=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},i.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,a=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=s(t,e,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=s(t,e,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this.strip()},i.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,a=o%n,s=Math.min(o,o-a)+r,h=0,l=r;l<s;l+=n)h=u(t,l,l+n,e),this.imuln(i),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==a){var p=1;for(h=u(t,l,t.length,e),l=0;l<a;l++)p*=e;this.imuln(p),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this.strip()},i.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},i.prototype.clone=function(){var t=new i(null);return this.copy(t),t},i.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function c(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],a=i*o,s=67108863&a,u=a/67108864|0;r.words[0]=s;for(var h=1;h<n;h++){for(var l=u>>>26,p=67108863&u,c=Math.min(h,e.length-1),f=Math.max(0,h-t.length+1);f<=c;f++){var d=h-f|0;l+=(a=(i=0|t.words[d])*(o=0|e.words[f])+p)/67108864|0,p=67108863&a}r.words[h]=0|p,u=0|l}return 0!==u?r.words[h]=0|u:r.length--,r.strip()}i.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<i|o)).toString(16);n=0!==(o=s>>>24-i&16777215)||a!==this.length-1?h[6-u.length]+u+n:u+n,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var c=l[t],f=p[t];n="";var d=this.clone();for(d.negative=0;!d.isZero();){var m=d.modn(f).toString(t);n=(d=d.idivn(f)).isZero()?m+n:h[c-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(t,e){return r(void 0!==o),this.toArrayLike(o,t,e)},i.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},i.prototype.toArrayLike=function(t,e,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var a,s,u="le"===e,h=new t(o),l=this.clone();if(u){for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),h[s]=a;for(;s<o;s++)h[s]=0}else{for(s=0;s<o-i;s++)h[s]=0;for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),h[o-s-1]=a}return h},Math.clz32?i.prototype._countBits=function(t){return 32-Math.clz32(t)}:i.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},i.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},i.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},i.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},i.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},i.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},i.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},i.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},i.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},i.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},i.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},i.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},i.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},i.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},i.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},i.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},i.prototype.notn=function(t){return this.clone().inotn(t)},i.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},i.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},i.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},i.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,a=0;a<n.length;a++)o=(e=(0|r.words[a])-(0|n.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<r.length;a++)o=(e=(0|r.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(t){return this.clone().isub(t)};var f=function(t,e,r){var n,i,o,a=t.words,s=e.words,u=r.words,h=0,l=0|a[0],p=8191&l,c=l>>>13,f=0|a[1],d=8191&f,m=f>>>13,v=0|a[2],g=8191&v,y=v>>>13,w=0|a[3],b=8191&w,M=w>>>13,k=0|a[4],_=8191&k,A=k>>>13,S=0|a[5],j=8191&S,O=S>>>13,x=0|a[6],P=8191&x,E=x>>>13,N=0|a[7],I=8191&N,q=N>>>13,T=0|a[8],$=8191&T,B=T>>>13,D=0|a[9],R=8191&D,C=D>>>13,z=0|s[0],G=8191&z,U=z>>>13,Z=0|s[1],L=8191&Z,F=Z>>>13,V=0|s[2],J=8191&V,H=V>>>13,K=0|s[3],W=8191&K,Y=K>>>13,X=0|s[4],Q=8191&X,tt=X>>>13,et=0|s[5],rt=8191&et,nt=et>>>13,it=0|s[6],ot=8191&it,at=it>>>13,st=0|s[7],ut=8191&st,ht=st>>>13,lt=0|s[8],pt=8191&lt,ct=lt>>>13,ft=0|s[9],dt=8191&ft,mt=ft>>>13;r.negative=t.negative^e.negative,r.length=19;var vt=(h+(n=Math.imul(p,G))|0)+((8191&(i=(i=Math.imul(p,U))+Math.imul(c,G)|0))<<13)|0;h=((o=Math.imul(c,U))+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(d,G),i=(i=Math.imul(d,U))+Math.imul(m,G)|0,o=Math.imul(m,U);var gt=(h+(n=n+Math.imul(p,L)|0)|0)+((8191&(i=(i=i+Math.imul(p,F)|0)+Math.imul(c,L)|0))<<13)|0;h=((o=o+Math.imul(c,F)|0)+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(g,G),i=(i=Math.imul(g,U))+Math.imul(y,G)|0,o=Math.imul(y,U),n=n+Math.imul(d,L)|0,i=(i=i+Math.imul(d,F)|0)+Math.imul(m,L)|0,o=o+Math.imul(m,F)|0;var yt=(h+(n=n+Math.imul(p,J)|0)|0)+((8191&(i=(i=i+Math.imul(p,H)|0)+Math.imul(c,J)|0))<<13)|0;h=((o=o+Math.imul(c,H)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(b,G),i=(i=Math.imul(b,U))+Math.imul(M,G)|0,o=Math.imul(M,U),n=n+Math.imul(g,L)|0,i=(i=i+Math.imul(g,F)|0)+Math.imul(y,L)|0,o=o+Math.imul(y,F)|0,n=n+Math.imul(d,J)|0,i=(i=i+Math.imul(d,H)|0)+Math.imul(m,J)|0,o=o+Math.imul(m,H)|0;var wt=(h+(n=n+Math.imul(p,W)|0)|0)+((8191&(i=(i=i+Math.imul(p,Y)|0)+Math.imul(c,W)|0))<<13)|0;h=((o=o+Math.imul(c,Y)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(_,G),i=(i=Math.imul(_,U))+Math.imul(A,G)|0,o=Math.imul(A,U),n=n+Math.imul(b,L)|0,i=(i=i+Math.imul(b,F)|0)+Math.imul(M,L)|0,o=o+Math.imul(M,F)|0,n=n+Math.imul(g,J)|0,i=(i=i+Math.imul(g,H)|0)+Math.imul(y,J)|0,o=o+Math.imul(y,H)|0,n=n+Math.imul(d,W)|0,i=(i=i+Math.imul(d,Y)|0)+Math.imul(m,W)|0,o=o+Math.imul(m,Y)|0;var bt=(h+(n=n+Math.imul(p,Q)|0)|0)+((8191&(i=(i=i+Math.imul(p,tt)|0)+Math.imul(c,Q)|0))<<13)|0;h=((o=o+Math.imul(c,tt)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(j,G),i=(i=Math.imul(j,U))+Math.imul(O,G)|0,o=Math.imul(O,U),n=n+Math.imul(_,L)|0,i=(i=i+Math.imul(_,F)|0)+Math.imul(A,L)|0,o=o+Math.imul(A,F)|0,n=n+Math.imul(b,J)|0,i=(i=i+Math.imul(b,H)|0)+Math.imul(M,J)|0,o=o+Math.imul(M,H)|0,n=n+Math.imul(g,W)|0,i=(i=i+Math.imul(g,Y)|0)+Math.imul(y,W)|0,o=o+Math.imul(y,Y)|0,n=n+Math.imul(d,Q)|0,i=(i=i+Math.imul(d,tt)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,tt)|0;var Mt=(h+(n=n+Math.imul(p,rt)|0)|0)+((8191&(i=(i=i+Math.imul(p,nt)|0)+Math.imul(c,rt)|0))<<13)|0;h=((o=o+Math.imul(c,nt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(P,G),i=(i=Math.imul(P,U))+Math.imul(E,G)|0,o=Math.imul(E,U),n=n+Math.imul(j,L)|0,i=(i=i+Math.imul(j,F)|0)+Math.imul(O,L)|0,o=o+Math.imul(O,F)|0,n=n+Math.imul(_,J)|0,i=(i=i+Math.imul(_,H)|0)+Math.imul(A,J)|0,o=o+Math.imul(A,H)|0,n=n+Math.imul(b,W)|0,i=(i=i+Math.imul(b,Y)|0)+Math.imul(M,W)|0,o=o+Math.imul(M,Y)|0,n=n+Math.imul(g,Q)|0,i=(i=i+Math.imul(g,tt)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,tt)|0,n=n+Math.imul(d,rt)|0,i=(i=i+Math.imul(d,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var kt=(h+(n=n+Math.imul(p,ot)|0)|0)+((8191&(i=(i=i+Math.imul(p,at)|0)+Math.imul(c,ot)|0))<<13)|0;h=((o=o+Math.imul(c,at)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(I,G),i=(i=Math.imul(I,U))+Math.imul(q,G)|0,o=Math.imul(q,U),n=n+Math.imul(P,L)|0,i=(i=i+Math.imul(P,F)|0)+Math.imul(E,L)|0,o=o+Math.imul(E,F)|0,n=n+Math.imul(j,J)|0,i=(i=i+Math.imul(j,H)|0)+Math.imul(O,J)|0,o=o+Math.imul(O,H)|0,n=n+Math.imul(_,W)|0,i=(i=i+Math.imul(_,Y)|0)+Math.imul(A,W)|0,o=o+Math.imul(A,Y)|0,n=n+Math.imul(b,Q)|0,i=(i=i+Math.imul(b,tt)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,tt)|0,n=n+Math.imul(g,rt)|0,i=(i=i+Math.imul(g,nt)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,nt)|0,n=n+Math.imul(d,ot)|0,i=(i=i+Math.imul(d,at)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,at)|0;var _t=(h+(n=n+Math.imul(p,ut)|0)|0)+((8191&(i=(i=i+Math.imul(p,ht)|0)+Math.imul(c,ut)|0))<<13)|0;h=((o=o+Math.imul(c,ht)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul($,G),i=(i=Math.imul($,U))+Math.imul(B,G)|0,o=Math.imul(B,U),n=n+Math.imul(I,L)|0,i=(i=i+Math.imul(I,F)|0)+Math.imul(q,L)|0,o=o+Math.imul(q,F)|0,n=n+Math.imul(P,J)|0,i=(i=i+Math.imul(P,H)|0)+Math.imul(E,J)|0,o=o+Math.imul(E,H)|0,n=n+Math.imul(j,W)|0,i=(i=i+Math.imul(j,Y)|0)+Math.imul(O,W)|0,o=o+Math.imul(O,Y)|0,n=n+Math.imul(_,Q)|0,i=(i=i+Math.imul(_,tt)|0)+Math.imul(A,Q)|0,o=o+Math.imul(A,tt)|0,n=n+Math.imul(b,rt)|0,i=(i=i+Math.imul(b,nt)|0)+Math.imul(M,rt)|0,o=o+Math.imul(M,nt)|0,n=n+Math.imul(g,ot)|0,i=(i=i+Math.imul(g,at)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,at)|0,n=n+Math.imul(d,ut)|0,i=(i=i+Math.imul(d,ht)|0)+Math.imul(m,ut)|0,o=o+Math.imul(m,ht)|0;var At=(h+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,ct)|0)+Math.imul(c,pt)|0))<<13)|0;h=((o=o+Math.imul(c,ct)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(R,G),i=(i=Math.imul(R,U))+Math.imul(C,G)|0,o=Math.imul(C,U),n=n+Math.imul($,L)|0,i=(i=i+Math.imul($,F)|0)+Math.imul(B,L)|0,o=o+Math.imul(B,F)|0,n=n+Math.imul(I,J)|0,i=(i=i+Math.imul(I,H)|0)+Math.imul(q,J)|0,o=o+Math.imul(q,H)|0,n=n+Math.imul(P,W)|0,i=(i=i+Math.imul(P,Y)|0)+Math.imul(E,W)|0,o=o+Math.imul(E,Y)|0,n=n+Math.imul(j,Q)|0,i=(i=i+Math.imul(j,tt)|0)+Math.imul(O,Q)|0,o=o+Math.imul(O,tt)|0,n=n+Math.imul(_,rt)|0,i=(i=i+Math.imul(_,nt)|0)+Math.imul(A,rt)|0,o=o+Math.imul(A,nt)|0,n=n+Math.imul(b,ot)|0,i=(i=i+Math.imul(b,at)|0)+Math.imul(M,ot)|0,o=o+Math.imul(M,at)|0,n=n+Math.imul(g,ut)|0,i=(i=i+Math.imul(g,ht)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,ht)|0,n=n+Math.imul(d,pt)|0,i=(i=i+Math.imul(d,ct)|0)+Math.imul(m,pt)|0,o=o+Math.imul(m,ct)|0;var St=(h+(n=n+Math.imul(p,dt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(c,dt)|0))<<13)|0;h=((o=o+Math.imul(c,mt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(R,L),i=(i=Math.imul(R,F))+Math.imul(C,L)|0,o=Math.imul(C,F),n=n+Math.imul($,J)|0,i=(i=i+Math.imul($,H)|0)+Math.imul(B,J)|0,o=o+Math.imul(B,H)|0,n=n+Math.imul(I,W)|0,i=(i=i+Math.imul(I,Y)|0)+Math.imul(q,W)|0,o=o+Math.imul(q,Y)|0,n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,tt)|0,n=n+Math.imul(j,rt)|0,i=(i=i+Math.imul(j,nt)|0)+Math.imul(O,rt)|0,o=o+Math.imul(O,nt)|0,n=n+Math.imul(_,ot)|0,i=(i=i+Math.imul(_,at)|0)+Math.imul(A,ot)|0,o=o+Math.imul(A,at)|0,n=n+Math.imul(b,ut)|0,i=(i=i+Math.imul(b,ht)|0)+Math.imul(M,ut)|0,o=o+Math.imul(M,ht)|0,n=n+Math.imul(g,pt)|0,i=(i=i+Math.imul(g,ct)|0)+Math.imul(y,pt)|0,o=o+Math.imul(y,ct)|0;var jt=(h+(n=n+Math.imul(d,dt)|0)|0)+((8191&(i=(i=i+Math.imul(d,mt)|0)+Math.imul(m,dt)|0))<<13)|0;h=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(jt>>>26)|0,jt&=67108863,n=Math.imul(R,J),i=(i=Math.imul(R,H))+Math.imul(C,J)|0,o=Math.imul(C,H),n=n+Math.imul($,W)|0,i=(i=i+Math.imul($,Y)|0)+Math.imul(B,W)|0,o=o+Math.imul(B,Y)|0,n=n+Math.imul(I,Q)|0,i=(i=i+Math.imul(I,tt)|0)+Math.imul(q,Q)|0,o=o+Math.imul(q,tt)|0,n=n+Math.imul(P,rt)|0,i=(i=i+Math.imul(P,nt)|0)+Math.imul(E,rt)|0,o=o+Math.imul(E,nt)|0,n=n+Math.imul(j,ot)|0,i=(i=i+Math.imul(j,at)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,at)|0,n=n+Math.imul(_,ut)|0,i=(i=i+Math.imul(_,ht)|0)+Math.imul(A,ut)|0,o=o+Math.imul(A,ht)|0,n=n+Math.imul(b,pt)|0,i=(i=i+Math.imul(b,ct)|0)+Math.imul(M,pt)|0,o=o+Math.imul(M,ct)|0;var Ot=(h+(n=n+Math.imul(g,dt)|0)|0)+((8191&(i=(i=i+Math.imul(g,mt)|0)+Math.imul(y,dt)|0))<<13)|0;h=((o=o+Math.imul(y,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,n=Math.imul(R,W),i=(i=Math.imul(R,Y))+Math.imul(C,W)|0,o=Math.imul(C,Y),n=n+Math.imul($,Q)|0,i=(i=i+Math.imul($,tt)|0)+Math.imul(B,Q)|0,o=o+Math.imul(B,tt)|0,n=n+Math.imul(I,rt)|0,i=(i=i+Math.imul(I,nt)|0)+Math.imul(q,rt)|0,o=o+Math.imul(q,nt)|0,n=n+Math.imul(P,ot)|0,i=(i=i+Math.imul(P,at)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,at)|0,n=n+Math.imul(j,ut)|0,i=(i=i+Math.imul(j,ht)|0)+Math.imul(O,ut)|0,o=o+Math.imul(O,ht)|0,n=n+Math.imul(_,pt)|0,i=(i=i+Math.imul(_,ct)|0)+Math.imul(A,pt)|0,o=o+Math.imul(A,ct)|0;var xt=(h+(n=n+Math.imul(b,dt)|0)|0)+((8191&(i=(i=i+Math.imul(b,mt)|0)+Math.imul(M,dt)|0))<<13)|0;h=((o=o+Math.imul(M,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(R,Q),i=(i=Math.imul(R,tt))+Math.imul(C,Q)|0,o=Math.imul(C,tt),n=n+Math.imul($,rt)|0,i=(i=i+Math.imul($,nt)|0)+Math.imul(B,rt)|0,o=o+Math.imul(B,nt)|0,n=n+Math.imul(I,ot)|0,i=(i=i+Math.imul(I,at)|0)+Math.imul(q,ot)|0,o=o+Math.imul(q,at)|0,n=n+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,ht)|0)+Math.imul(E,ut)|0,o=o+Math.imul(E,ht)|0,n=n+Math.imul(j,pt)|0,i=(i=i+Math.imul(j,ct)|0)+Math.imul(O,pt)|0,o=o+Math.imul(O,ct)|0;var Pt=(h+(n=n+Math.imul(_,dt)|0)|0)+((8191&(i=(i=i+Math.imul(_,mt)|0)+Math.imul(A,dt)|0))<<13)|0;h=((o=o+Math.imul(A,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(R,rt),i=(i=Math.imul(R,nt))+Math.imul(C,rt)|0,o=Math.imul(C,nt),n=n+Math.imul($,ot)|0,i=(i=i+Math.imul($,at)|0)+Math.imul(B,ot)|0,o=o+Math.imul(B,at)|0,n=n+Math.imul(I,ut)|0,i=(i=i+Math.imul(I,ht)|0)+Math.imul(q,ut)|0,o=o+Math.imul(q,ht)|0,n=n+Math.imul(P,pt)|0,i=(i=i+Math.imul(P,ct)|0)+Math.imul(E,pt)|0,o=o+Math.imul(E,ct)|0;var Et=(h+(n=n+Math.imul(j,dt)|0)|0)+((8191&(i=(i=i+Math.imul(j,mt)|0)+Math.imul(O,dt)|0))<<13)|0;h=((o=o+Math.imul(O,mt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(R,ot),i=(i=Math.imul(R,at))+Math.imul(C,ot)|0,o=Math.imul(C,at),n=n+Math.imul($,ut)|0,i=(i=i+Math.imul($,ht)|0)+Math.imul(B,ut)|0,o=o+Math.imul(B,ht)|0,n=n+Math.imul(I,pt)|0,i=(i=i+Math.imul(I,ct)|0)+Math.imul(q,pt)|0,o=o+Math.imul(q,ct)|0;var Nt=(h+(n=n+Math.imul(P,dt)|0)|0)+((8191&(i=(i=i+Math.imul(P,mt)|0)+Math.imul(E,dt)|0))<<13)|0;h=((o=o+Math.imul(E,mt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,n=Math.imul(R,ut),i=(i=Math.imul(R,ht))+Math.imul(C,ut)|0,o=Math.imul(C,ht),n=n+Math.imul($,pt)|0,i=(i=i+Math.imul($,ct)|0)+Math.imul(B,pt)|0,o=o+Math.imul(B,ct)|0;var It=(h+(n=n+Math.imul(I,dt)|0)|0)+((8191&(i=(i=i+Math.imul(I,mt)|0)+Math.imul(q,dt)|0))<<13)|0;h=((o=o+Math.imul(q,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(R,pt),i=(i=Math.imul(R,ct))+Math.imul(C,pt)|0,o=Math.imul(C,ct);var qt=(h+(n=n+Math.imul($,dt)|0)|0)+((8191&(i=(i=i+Math.imul($,mt)|0)+Math.imul(B,dt)|0))<<13)|0;h=((o=o+Math.imul(B,mt)|0)+(i>>>13)|0)+(qt>>>26)|0,qt&=67108863;var Tt=(h+(n=Math.imul(R,dt))|0)+((8191&(i=(i=Math.imul(R,mt))+Math.imul(C,dt)|0))<<13)|0;return h=((o=Math.imul(C,mt))+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,u[0]=vt,u[1]=gt,u[2]=yt,u[3]=wt,u[4]=bt,u[5]=Mt,u[6]=kt,u[7]=_t,u[8]=At,u[9]=St,u[10]=jt,u[11]=Ot,u[12]=xt,u[13]=Pt,u[14]=Et,u[15]=Nt,u[16]=It,u[17]=qt,u[18]=Tt,0!==h&&(u[19]=h,r.length++),r};function d(t,e,r){return(new m).mulp(t,e,r)}function m(t,e){this.x=t,this.y=e}Math.imul||(f=c),i.prototype.mulTo=function(t,e){var r,n=this.length+t.length;return r=10===this.length&&10===t.length?f(this,t,e):n<63?c(this,t,e):n<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var a=i;i=0;for(var s=67108863&n,u=Math.min(o,e.length-1),h=Math.max(0,o-t.length+1);h<=u;h++){var l=o-h,p=(0|t.words[l])*(0|e.words[h]),c=67108863&p;s=67108863&(c=c+s|0),i+=(a=(a=a+(p/67108864|0)|0)+(c>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,t,e):d(this,t,e),r},m.prototype.makeRBT=function(t){for(var e=new Array(t),r=i.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},m.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},m.prototype.permute=function(t,e,r,n,i,o){for(var a=0;a<o;a++)n[a]=e[t[a]],i[a]=r[t[a]]},m.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),h=Math.sin(2*Math.PI/s),l=0;l<i;l+=s)for(var p=u,c=h,f=0;f<a;f++){var d=r[l+f],m=n[l+f],v=r[l+f+a],g=n[l+f+a],y=p*v-c*g;g=p*g+c*v,v=y,r[l+f]=d+v,n[l+f]=m+g,r[l+f+a]=d-v,n[l+f+a]=m-g,f!==s&&(y=u*p-h*c,c=u*c+h*p,p=y)}},m.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},m.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},m.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},m.prototype.convert13b=function(t,e,n,i){for(var o=0,a=0;a<e;a++)o+=0|t[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*e;a<i;++a)n[a]=0;r(0===o),r(0==(-8192&o))},m.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},m.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),a=new Array(n),s=new Array(n),u=new Array(n),h=new Array(n),l=new Array(n),p=new Array(n),c=r.words;c.length=n,this.convert13b(t.words,t.length,a,n),this.convert13b(e.words,e.length,h,n),this.transform(a,o,s,u,n,i),this.transform(h,o,l,p,n,i);for(var f=0;f<n;f++){var d=s[f]*l[f]-u[f]*p[f];u[f]=s[f]*p[f]+u[f]*l[f],s[f]=d}return this.conjugate(s,u,n),this.transform(s,u,c,o,n,i),this.conjugate(c,o,n),this.normalize13b(c,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},i.prototype.mul=function(t){var e=new i(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},i.prototype.mulf=function(t){var e=new i(null);return e.words=new Array(this.length+t.length),d(this,t,e)},i.prototype.imul=function(t){return this.clone().mulTo(t,this)},i.prototype.imuln=function(t){r("number"==typeof t),r(t<67108864);for(var e=0,n=0;n<this.length;n++){var i=(0|this.words[n])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[n]=67108863&o}return 0!==e&&(this.words[n]=e,this.length++),this},i.prototype.muln=function(t){return this.clone().imuln(t)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new i(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var o=r.sqr();n<e.length;n++,o=o.sqr())0!==e[n]&&(r=r.mul(o));return r},i.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(e=0;e<this.length;e++){var s=this.words[e]&o,u=(0|this.words[e])-s<<n;this.words[e]=u|a,a=s>>>26-n}a&&(this.words[e]=a,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},i.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},i.prototype.iushrn=function(t,e,n){var i;r("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,a=Math.min((t-o)/26,this.length),s=67108863^67108863>>>o<<o,u=n;if(i-=a,i=Math.max(0,i),u){for(var h=0;h<a;h++)u.words[h]=this.words[h];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,h=0;h<this.length;h++)this.words[h]=this.words[h+a];else this.words[0]=0,this.length=1;var l=0;for(h=this.length-1;h>=0&&(0!==l||h>=i);h--){var p=0|this.words[h];this.words[h]=l<<26-o|p>>>o,l=p&s}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},i.prototype.shln=function(t){return this.clone().ishln(t)},i.prototype.ushln=function(t){return this.clone().iushln(t)},i.prototype.shrn=function(t){return this.clone().ishrn(t)},i.prototype.ushrn=function(t){return this.clone().iushrn(t)},i.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n)&&!!(this.words[n]&i)},i.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},i.prototype.maskn=function(t){return this.clone().imaskn(t)},i.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},i.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},i.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},i.prototype.addn=function(t){return this.clone().iaddn(t)},i.prototype.subn=function(t){return this.clone().isubn(t)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(t,e,n){var i,o,a=t.length+n;this._expand(a);var s=0;for(i=0;i<t.length;i++){o=(0|this.words[i+n])+s;var u=(0|t.words[i])*e;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)s=(o=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&o;if(0===s)return this.strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},i.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),o=t,a=0|o.words[o.length-1];0!==(r=26-this._countBits(a))&&(o=o.ushln(r),n.iushln(r),a=0|o.words[o.length-1]);var s,u=n.length-o.length;if("mod"!==e){(s=new i(null)).length=u+1,s.words=new Array(s.length);for(var h=0;h<s.length;h++)s.words[h]=0}var l=n.clone()._ishlnsubmul(o,1,u);0===l.negative&&(n=l,s&&(s.words[u]=1));for(var p=u-1;p>=0;p--){var c=67108864*(0|n.words[o.length+p])+(0|n.words[o.length+p-1]);for(c=Math.min(c/a|0,67108863),n._ishlnsubmul(o,c,p);0!==n.negative;)c--,n.negative=0,n._ishlnsubmul(o,1,p),n.isZero()||(n.negative^=1);s&&(s.words[p]=c)}return s&&s.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},i.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(o=s.div.neg()),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(t)),{div:o,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(o=s.div.neg()),{div:o,mod:s.mod}):0!=(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(t)),{div:s.div,mod:a}):t.length>this.length||this.cmp(t)<0?{div:new i(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new i(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new i(this.modn(t.words[0]))}:this._wordDiv(t,e);var o,a,s},i.prototype.div=function(t){return this.divmod(t,"div",!1).div},i.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},i.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},i.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},i.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,n=0,i=this.length-1;i>=0;i--)n=(e*n+(0|this.words[i]))%t;return n},i.prototype.idivn=function(t){r(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*e;this.words[n]=i/t|0,e=i%t}return this.strip()},i.prototype.divn=function(t){return this.clone().idivn(t)},i.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o=new i(1),a=new i(0),s=new i(0),u=new i(1),h=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++h;for(var l=n.clone(),p=e.clone();!e.isZero();){for(var c=0,f=1;0==(e.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(e.iushrn(c);c-- >0;)(o.isOdd()||a.isOdd())&&(o.iadd(l),a.isub(p)),o.iushrn(1),a.iushrn(1);for(var d=0,m=1;0==(n.words[0]&m)&&d<26;++d,m<<=1);if(d>0)for(n.iushrn(d);d-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(l),u.isub(p)),s.iushrn(1),u.iushrn(1);e.cmp(n)>=0?(e.isub(n),o.isub(s),a.isub(u)):(n.isub(e),s.isub(o),u.isub(a))}return{a:s,b:u,gcd:n.iushln(h)}},i.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o,a=new i(1),s=new i(0),u=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var h=0,l=1;0==(e.words[0]&l)&&h<26;++h,l<<=1);if(h>0)for(e.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var p=0,c=1;0==(n.words[0]&c)&&p<26;++p,c<<=1);if(p>0)for(n.iushrn(p);p-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);e.cmp(n)>=0?(e.isub(n),a.isub(s)):(n.isub(e),s.isub(a))}return(o=0===e.cmpn(1)?a:s).cmpn(0)<0&&o.iadd(t),o},i.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},i.prototype.invm=function(t){return this.egcd(t).a.umod(t)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(t){return this.words[0]&t},i.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},i.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},i.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},i.prototype.gtn=function(t){return 1===this.cmpn(t)},i.prototype.gt=function(t){return 1===this.cmp(t)},i.prototype.gten=function(t){return this.cmpn(t)>=0},i.prototype.gte=function(t){return this.cmp(t)>=0},i.prototype.ltn=function(t){return-1===this.cmpn(t)},i.prototype.lt=function(t){return-1===this.cmp(t)},i.prototype.lten=function(t){return this.cmpn(t)<=0},i.prototype.lte=function(t){return this.cmp(t)<=0},i.prototype.eqn=function(t){return 0===this.cmpn(t)},i.prototype.eq=function(t){return 0===this.cmp(t)},i.red=function(t){return new k(t)},i.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(t){return this.red=t,this},i.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},i.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},i.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},i.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},i.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},i.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},i.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},i.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var v={k256:null,p224:null,p192:null,p25519:null};function g(t,e){this.name=t,this.p=new i(e,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function y(){g.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){g.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function b(){g.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){g.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(t){if("string"==typeof t){var e=i._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function _(t){k.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}g.prototype._tmp=function(){var t=new i(null);return t.words=new Array(Math.ceil(this.n/13)),t},g.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},g.prototype.split=function(t,e){t.iushrn(this.n,0,e)},g.prototype.imulK=function(t){return t.imul(this.k)},n(y,g),y.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,i=10;i<t.length;i++){var a=0|t.words[i];t.words[i-10]=(a&r)<<4|o>>>22,o=a}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},y.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(w,g),n(b,g),n(M,g),M.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},i._prime=function(t){if(v[t])return v[t];var e;if("k256"===t)e=new y;else if("p224"===t)e=new w;else if("p192"===t)e=new b;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new M}return v[t]=e,e},k.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},k.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},k.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},k.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},k.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},k.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},k.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},k.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},k.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},k.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},k.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},k.prototype.isqr=function(t){return this.imul(t,t.clone())},k.prototype.sqr=function(t){return this.mul(t,t)},k.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var n=this.m.add(new i(1)).iushrn(2);return this.pow(t,n)}for(var o=this.m.subn(1),a=0;!o.isZero()&&0===o.andln(1);)a++,o.iushrn(1);r(!o.isZero());var s=new i(1).toRed(this),u=s.redNeg(),h=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new i(2*l*l).toRed(this);0!==this.pow(l,h).cmp(u);)l.redIAdd(u);for(var p=this.pow(l,o),c=this.pow(t,o.addn(1).iushrn(1)),f=this.pow(t,o),d=a;0!==f.cmp(s);){for(var m=f,v=0;0!==m.cmp(s);v++)m=m.redSqr();r(v<d);var g=this.pow(p,new i(1).iushln(d-v-1));c=c.redMul(g),p=g.redSqr(),f=f.redMul(p),d=v}return c},k.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},k.prototype.pow=function(t,e){if(e.isZero())return new i(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var o=r[0],a=0,s=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var h=e.words[n],l=u-1;l>=0;l--){var p=h>>l&1;o!==r[0]&&(o=this.sqr(o)),0!==p||0!==a?(a<<=1,a|=p,(4===++s||0===n&&0===l)&&(o=this.mul(o,r[a]),s=0,a=0)):s=0}u=26}return o},k.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},k.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},i.mont=function(t){return new _(t)},n(_,k),_.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},_.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},_.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},_.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new i(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(n).iushrn(this.shift),a=o;return o.cmp(this.m)>=0?a=o.isub(this.m):o.cmpn(0)<0&&(a=o.iadd(this.m)),a._forceRed(this)},_.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,G)}(X);var Q=1/0,tt=9007199254740991,et=17976931348623157e292,rt=NaN,nt="[object Function]",it="[object GeneratorFunction]",ot="[object Symbol]",at=/^\s+|\s+$/g,st=/^[-+]0x[0-9a-f]+$/i,ut=/^0b[01]+$/i,ht=/^0o[0-7]+$/i,lt=/^(?:0|[1-9]\d*)$/,pt=parseInt,ct=Object.prototype.toString,ft=Math.ceil,dt=Math.max;function mt(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(r=r>i?i:r)<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var o=Array(i);++n<i;)o[n]=t[n+e];return o}function vt(t,e,r){if(!gt(r))return!1;var n=typeof e;return!!("number"==n?function(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=tt}(t.length)&&!function(t){var e=gt(t)?ct.call(t):"";return e==nt||e==it}(t)}(r)&&function(t,e){return!!(e=null==e?tt:e)&&("number"==typeof t||lt.test(t))&&t>-1&&t%1==0&&t<e}(e,r.length):"string"==n&&e in r)&&function(t,e){return t===e||t!=t&&e!=e}(r[e],t)}function gt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var yt=function(t,e,r){e=(r?vt(t,e,r):void 0===e)?1:dt(function(t){var e=function(t){if(!t)return 0===t?t:0;if((t=function(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&ct.call(t)==ot}(t))return rt;if(gt(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=gt(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(at,"");var r=ut.test(t);return r||ht.test(t)?pt(t.slice(2),r?2:8):st.test(t)?rt:+t}(t))===Q||t===-1/0){return(t<0?-1:1)*et}return t==t?t:0}(t),r=e%1;return e==e?r?e-r:e:0}(e),0);var n=t?t.length:0;if(!n||e<1)return[];for(var i=0,o=0,a=Array(ft(n/e));i<n;)a[o++]=mt(t,i,i+=e);return a},wt={exports:{}};!function(t,e){var r="__lodash_hash_undefined__",n=9007199254740991,i="[object Arguments]",o="[object Array]",a="[object Boolean]",s="[object Date]",u="[object Error]",h="[object Function]",l="[object Map]",p="[object Number]",c="[object Object]",f="[object Promise]",d="[object RegExp]",m="[object Set]",v="[object String]",g="[object Symbol]",y="[object WeakMap]",w="[object ArrayBuffer]",b="[object DataView]",M=/^\[object .+?Constructor\]$/,k=/^(?:0|[1-9]\d*)$/,_={};_["[object Float32Array]"]=_["[object Float64Array]"]=_["[object Int8Array]"]=_["[object Int16Array]"]=_["[object Int32Array]"]=_["[object Uint8Array]"]=_["[object Uint8ClampedArray]"]=_["[object Uint16Array]"]=_["[object Uint32Array]"]=!0,_[i]=_[o]=_[w]=_[a]=_[b]=_[s]=_[u]=_[h]=_[l]=_[p]=_[c]=_[d]=_[m]=_[v]=_[y]=!1;var A="object"==typeof G&&G&&G.Object===Object&&G,S="object"==typeof self&&self&&self.Object===Object&&self,j=A||S||Function("return this")(),O=e&&!e.nodeType&&e,x=O&&t&&!t.nodeType&&t,P=x&&x.exports===O,E=P&&A.process,N=function(){try{return E&&E.binding&&E.binding("util")}catch(t){}}(),I=N&&N.isTypedArray;function q(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function T(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function $(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}var B,D,R,C=Array.prototype,z=Function.prototype,U=Object.prototype,Z=j["__core-js_shared__"],L=z.toString,F=U.hasOwnProperty,V=(B=/[^.]+$/.exec(Z&&Z.keys&&Z.keys.IE_PROTO||""))?"Symbol(src)_1."+B:"",J=U.toString,H=RegExp("^"+L.call(F).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),K=P?j.Buffer:void 0,W=j.Symbol,Y=j.Uint8Array,X=U.propertyIsEnumerable,Q=C.splice,tt=W?W.toStringTag:void 0,et=Object.getOwnPropertySymbols,rt=K?K.isBuffer:void 0,nt=(D=Object.keys,R=Object,function(t){return D(R(t))}),it=It(j,"DataView"),ot=It(j,"Map"),at=It(j,"Promise"),st=It(j,"Set"),ut=It(j,"WeakMap"),ht=It(Object,"create"),lt=Bt(it),pt=Bt(ot),ct=Bt(at),ft=Bt(st),dt=Bt(ut),mt=W?W.prototype:void 0,vt=mt?mt.valueOf:void 0;function gt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function yt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function wt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function bt(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new wt;++e<r;)this.add(t[e])}function Mt(t){var e=this.__data__=new yt(t);this.size=e.size}function kt(t,e){var r=Ct(t),n=!r&&Rt(t),i=!r&&!n&&zt(t),o=!r&&!n&&!i&&Ft(t),a=r||n||i||o,s=a?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],u=s.length;for(var h in t)!e&&!F.call(t,h)||a&&("length"==h||i&&("offset"==h||"parent"==h)||o&&("buffer"==h||"byteLength"==h||"byteOffset"==h)||$t(h,u))||s.push(h);return s}function _t(t,e){for(var r=t.length;r--;)if(Dt(t[r][0],e))return r;return-1}function At(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":tt&&tt in Object(t)?function(t){var e=F.call(t,tt),r=t[tt];try{t[tt]=void 0;var n=!0}catch(t){}var i=J.call(t);n&&(e?t[tt]=r:delete t[tt]);return i}(t):function(t){return J.call(t)}(t)}function St(t){return Lt(t)&&At(t)==i}function jt(t,e,r,n,h){return t===e||(null==t||null==e||!Lt(t)&&!Lt(e)?t!=t&&e!=e:function(t,e,r,n,h,f){var y=Ct(t),M=Ct(e),k=y?o:Tt(t),_=M?o:Tt(e),A=(k=k==i?c:k)==c,S=(_=_==i?c:_)==c,j=k==_;if(j&&zt(t)){if(!zt(e))return!1;y=!0,A=!1}if(j&&!A)return f||(f=new Mt),y||Ft(t)?Pt(t,e,r,n,h,f):function(t,e,r,n,i,o,h){switch(r){case b:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case w:return!(t.byteLength!=e.byteLength||!o(new Y(t),new Y(e)));case a:case s:case p:return Dt(+t,+e);case u:return t.name==e.name&&t.message==e.message;case d:case v:return t==e+"";case l:var c=T;case m:var f=1&n;if(c||(c=$),t.size!=e.size&&!f)return!1;var y=h.get(t);if(y)return y==e;n|=2,h.set(t,e);var M=Pt(c(t),c(e),n,i,o,h);return h.delete(t),M;case g:if(vt)return vt.call(t)==vt.call(e)}return!1}(t,e,k,r,n,h,f);if(!(1&r)){var O=A&&F.call(t,"__wrapped__"),x=S&&F.call(e,"__wrapped__");if(O||x){var P=O?t.value():t,E=x?e.value():e;return f||(f=new Mt),h(P,E,r,n,f)}}if(!j)return!1;return f||(f=new Mt),function(t,e,r,n,i,o){var a=1&r,s=Et(t),u=s.length,h=Et(e).length;if(u!=h&&!a)return!1;var l=u;for(;l--;){var p=s[l];if(!(a?p in e:F.call(e,p)))return!1}var c=o.get(t);if(c&&o.get(e))return c==e;var f=!0;o.set(t,e),o.set(e,t);var d=a;for(;++l<u;){var m=t[p=s[l]],v=e[p];if(n)var g=a?n(v,m,p,e,t,o):n(m,v,p,t,e,o);if(!(void 0===g?m===v||i(m,v,r,n,o):g)){f=!1;break}d||(d="constructor"==p)}if(f&&!d){var y=t.constructor,w=e.constructor;y==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof y&&y instanceof y&&"function"==typeof w&&w instanceof w||(f=!1)}return o.delete(t),o.delete(e),f}(t,e,r,n,h,f)}(t,e,r,n,jt,h))}function Ot(t){return!(!Zt(t)||function(t){return!!V&&V in t}(t))&&(Gt(t)?H:M).test(Bt(t))}function xt(t){if(r=(e=t)&&e.constructor,n="function"==typeof r&&r.prototype||U,e!==n)return nt(t);var e,r,n,i=[];for(var o in Object(t))F.call(t,o)&&"constructor"!=o&&i.push(o);return i}function Pt(t,e,r,n,i,o){var a=1&r,s=t.length,u=e.length;if(s!=u&&!(a&&u>s))return!1;var h=o.get(t);if(h&&o.get(e))return h==e;var l=-1,p=!0,c=2&r?new bt:void 0;for(o.set(t,e),o.set(e,t);++l<s;){var f=t[l],d=e[l];if(n)var m=a?n(d,f,l,e,t,o):n(f,d,l,t,e,o);if(void 0!==m){if(m)continue;p=!1;break}if(c){if(!q(e,(function(t,e){if(a=e,!c.has(a)&&(f===t||i(f,t,r,n,o)))return c.push(e);var a}))){p=!1;break}}else if(f!==d&&!i(f,d,r,n,o)){p=!1;break}}return o.delete(t),o.delete(e),p}function Et(t){return function(t,e,r){var n=e(t);return Ct(t)?n:function(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}(n,r(t))}(t,Vt,qt)}function Nt(t,e){var r,n,i=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function It(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return Ot(r)?r:void 0}gt.prototype.clear=function(){this.__data__=ht?ht(null):{},this.size=0},gt.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},gt.prototype.get=function(t){var e=this.__data__;if(ht){var n=e[t];return n===r?void 0:n}return F.call(e,t)?e[t]:void 0},gt.prototype.has=function(t){var e=this.__data__;return ht?void 0!==e[t]:F.call(e,t)},gt.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ht&&void 0===e?r:e,this},yt.prototype.clear=function(){this.__data__=[],this.size=0},yt.prototype.delete=function(t){var e=this.__data__,r=_t(e,t);return!(r<0)&&(r==e.length-1?e.pop():Q.call(e,r,1),--this.size,!0)},yt.prototype.get=function(t){var e=this.__data__,r=_t(e,t);return r<0?void 0:e[r][1]},yt.prototype.has=function(t){return _t(this.__data__,t)>-1},yt.prototype.set=function(t,e){var r=this.__data__,n=_t(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this},wt.prototype.clear=function(){this.size=0,this.__data__={hash:new gt,map:new(ot||yt),string:new gt}},wt.prototype.delete=function(t){var e=Nt(this,t).delete(t);return this.size-=e?1:0,e},wt.prototype.get=function(t){return Nt(this,t).get(t)},wt.prototype.has=function(t){return Nt(this,t).has(t)},wt.prototype.set=function(t,e){var r=Nt(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},bt.prototype.add=bt.prototype.push=function(t){return this.__data__.set(t,r),this},bt.prototype.has=function(t){return this.__data__.has(t)},Mt.prototype.clear=function(){this.__data__=new yt,this.size=0},Mt.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},Mt.prototype.get=function(t){return this.__data__.get(t)},Mt.prototype.has=function(t){return this.__data__.has(t)},Mt.prototype.set=function(t,e){var r=this.__data__;if(r instanceof yt){var n=r.__data__;if(!ot||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new wt(n)}return r.set(t,e),this.size=r.size,this};var qt=et?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var r=-1,n=null==t?0:t.length,i=0,o=[];++r<n;){var a=t[r];e(a,r,t)&&(o[i++]=a)}return o}(et(t),(function(e){return X.call(t,e)})))}:function(){return[]},Tt=At;function $t(t,e){return!!(e=null==e?n:e)&&("number"==typeof t||k.test(t))&&t>-1&&t%1==0&&t<e}function Bt(t){if(null!=t){try{return L.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Dt(t,e){return t===e||t!=t&&e!=e}(it&&Tt(new it(new ArrayBuffer(1)))!=b||ot&&Tt(new ot)!=l||at&&Tt(at.resolve())!=f||st&&Tt(new st)!=m||ut&&Tt(new ut)!=y)&&(Tt=function(t){var e=At(t),r=e==c?t.constructor:void 0,n=r?Bt(r):"";if(n)switch(n){case lt:return b;case pt:return l;case ct:return f;case ft:return m;case dt:return y}return e});var Rt=St(function(){return arguments}())?St:function(t){return Lt(t)&&F.call(t,"callee")&&!X.call(t,"callee")},Ct=Array.isArray;var zt=rt||function(){return!1};function Gt(t){if(!Zt(t))return!1;var e=At(t);return e==h||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Ut(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}function Zt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Lt(t){return null!=t&&"object"==typeof t}var Ft=I?function(t){return function(e){return t(e)}}(I):function(t){return Lt(t)&&Ut(t.length)&&!!_[At(t)]};function Vt(t){return null!=(e=t)&&Ut(e.length)&&!Gt(e)?kt(t):xt(t);var e}t.exports=function(t,e){return jt(t,e)}}(wt,wt.exports);const bt=X.exports,Mt=new bt(255),kt=new bt(65280),_t=new bt(256),At=(t,e)=>{let r,n,i,o,a,s,u,h;for(r=3&t.length,n=t.length-r,i=e,a=3432918353,s=461845907,h=0;h<n;)u=255&t.charCodeAt(h)|(255&t.charCodeAt(++h))<<8|(255&t.charCodeAt(++h))<<16|(255&t.charCodeAt(++h))<<24,++h,u=(65535&u)*a+(((u>>>16)*a&65535)<<16)&4294967295,u=u<<15|u>>>17,u=(65535&u)*s+(((u>>>16)*s&65535)<<16)&4294967295,i^=u,i=i<<13|i>>>19,o=5*(65535&i)+((5*(i>>>16)&65535)<<16)&4294967295,i=27492+(65535&o)+((58964+(o>>>16)&65535)<<16);switch(u=0,r){case 3:u^=(255&t.charCodeAt(h+2))<<16;case 2:u^=(255&t.charCodeAt(h+1))<<8;case 1:u^=255&t.charCodeAt(h),u=(65535&u)*a+(((u>>>16)*a&65535)<<16)&4294967295,u=u<<15|u>>>17,u=(65535&u)*s+(((u>>>16)*s&65535)<<16)&4294967295,i^=u}return i^=t.length,i^=i>>>16,i=2246822507*(65535&i)+((2246822507*(i>>>16)&65535)<<16)&4294967295,i^=i>>>13,i=3266489909*(65535&i)+((3266489909*(i>>>16)&65535)<<16)&4294967295,i^=i>>>16,i>>>0};var St={muk:(t,e,r)=>{const n=r.and(Mt).toNumber(),i=r.and(kt).div(_t).toNumber(),o=String.fromCharCode(n)+String.fromCharCode(i);return new bt(At(o,t))}};const jt=X.exports,{muk:Ot}=St,xt=new jt("10000","hex"),Pt=new jt("ffffffff","hex"),Et=new jt("100000000","hex"),Nt=new jt("ffffffffffffffff","hex"),It=new jt("ffffffff00000000","hex"),qt=new jt("65535"),Tt=new jt("65536"),$t=(t,e)=>Ot([3077398253,3995603712,2243735041,1261992695][t],2,e),Bt=t=>Dt(4,qt,Tt,Pt,$t,new jt(t)),Dt=(t,e,r,n,i,o)=>{const a=Rt(t,e,r,i,o);return a.lt(n)?a:Rt(t,e,r,i,a)},Rt=(t,e,r,n,i)=>{const o=(i,a,s)=>{if(i>t)return t%2!=0||s.eq(e)?e.mul(s).add(a):e.mul(a).add(s);{const t=n(i-1,s),u=i%2!=0?a.add(t).mod(e):a.add(t).mod(r);return o(i+1,s,u)}},a=i.mod(e),s=i.div(e);return o(1,a,s)},Ct=t=>zt(4,qt,Tt,Pt,$t,new jt(t)),zt=(t,e,r,n,i,o)=>{const a=Gt(t,e,r,i,o);return a.lt(n)?a:Gt(t,e,r,i,a)},Gt=(t,e,r,n,i)=>{const o=(t,i,a)=>{if(t<1)return e.mul(a).add(i);{const s=n(t-1,i),u=t%2!=0?a.add(e).sub(s.mod(e)).mod(e):a.add(r).sub(s.mod(r)).mod(r);return o(t-1,u,i)}},a=t%2!=0?i.div(e):i.mod(e),s=t%2!=0?i.mod(e):i.div(e),u=s.eq(e)?a:s,h=s.eq(e)?s:a;return o(t,u,h)};var Ut={F:$t,fe:Rt,Fe:Dt,feis:Bt,fein:t=>{const e=t=>{const r=t.and(Pt),n=t.and(It);return t.gte(xt)&&t.lte(Pt)?xt.add(Bt(t.sub(xt))):t.gte(Et)&&t.lte(Nt)?n.or(e(r)):t};return e(new jt(t))},fen:Gt,Fen:zt,tail:Ct,fynd:t=>{const e=t=>{const r=t.and(Pt),n=t.and(It);return t.gte(xt)&&t.lte(Pt)?xt.add(Ct(t.sub(xt))):t.gte(Et)&&t.lte(Nt)?n.or(e(r)):t};return e(new jt(t))}};const Zt=X.exports,Lt=yt,Ft=wt.exports,Vt=Ut,Jt=new Zt(0),Ht=new Zt(1),Kt=new Zt(2),Wt=new Zt(3),Yt=new Zt(4),Xt=new Zt(5),Qt="\nzodnecbudwessevpersutletfulpensytdurwepserwylsunrypsyxdyrnuphebpeglupdepdysputlughecryttyvsydnexlunmeplutseppesdelsulpedtemledtulmetwenbynhexfebpyldulhetmevruttylwydtepbesdexsefwycburderneppurrysrebdennutsubpetrulsynregtydsupsemwynrecmegnetsecmulnymtevwebsummutnyxrextebfushepbenmuswyxsymselrucdecwexsyrwetdylmynmesdetbetbeltuxtugmyrpelsyptermebsetdutdegtexsurfeltudnuxruxrenwytnubmedlytdusnebrumtynseglyxpunresredfunrevrefmectedrusbexlebduxrynnumpyxrygryxfeptyrtustyclegnemfermertenlusnussyltecmexpubrymtucfyllepdebbermughuttunbylsudpemdevlurdefbusbeprunmelpexdytbyttyplevmylwedducfurfexnulluclennerlexrupnedlecrydlydfenwelnydhusrelrudneshesfetdesretdunlernyrsebhulrylludremlysfynwerrycsugnysnyllyndyndemluxfedsedbecmunlyrtesmudnytbyrsenwegfyrmurtelreptegpecnelnevfes",te=t=>t.replace(/[\^~-]/g,"").match(/.{1,3}/g)||[],ee="\ndozmarbinwansamlitsighidfidlissogdirwacsabwissibrigsoldopmodfoglidhopdardorlorhodfolrintogsilmirholpaslacrovlivdalsatlibtabhanticpidtorbolfosdotlosdilforpilramtirwintadbicdifrocwidbisdasmidloprilnardapmolsanlocnovsitnidtipsicropwitnatpanminritpodmottamtolsavposnapnopsomfinfonbanmorworsipronnorbotwicsocwatdolmagpicdavbidbaltimtasmalligsivtagpadsaldivdactansidfabtarmonranniswolmispallasdismaprabtobrollatlonnodnavfignomnibpagsopralbilhaddocridmocpacravripfaltodtiltinhapmicfanpattaclabmogsimsonpinlomrictapfirhasbosbatpochactidhavsaplindibhosdabbitbarracparloddosbortochilmactomdigfilfasmithobharmighinradmashalraglagfadtopmophabnilnosmilfopfamdatnoldinhatnacrisfotribhocnimlarfitwalrapsarnalmoslandondanladdovrivbacpollaptalpitnambonrostonfodponsovnocsorlavmatmipfip".match(/.{1,3}/g),re=Qt.match(/.{1,3}/g),ne=t=>Kt.pow(t),ie=(t,e,r)=>r.div(ne(ne(t).mul(e))),oe=(t,e,r=Jt)=>e.eq(Jt)?r:oe(t,ie(t,Ht,e),r.add(Ht)),ae=(t,e,r)=>r.mod(ne(ne(t).mul(e))),se=t=>{if(!1===me(t))throw new Error("patp2hex: not a valid @p");const e=te(t),r=t=>t.toString(2).padStart(8,"0"),n=e.reduce(((t,n,i)=>i%2!=0||1===e.length?t+r(re.indexOf(n)):t+r(ee.indexOf(n))),""),i=new Zt(n,2),o=Vt.fynd(i).toString("hex");return o.length%2!=0?o.padStart(o.length+1,"0"):o},ue=t=>new Zt(se(t),"hex"),he=t=>{let e;try{e=ue(t)}catch(t){throw new Error("patp2dec: not a valid @p")}return e.toString()},le=t=>{const e=new Zt(t).toArrayLike(Buffer);return pe(e)},pe=t=>{const e=t.length%2!=0&&t.length>1?[[t[0]]].concat(Lt(t.slice(1),2)):Lt(t,2),r=t=>{return t.length%2!=0&&e.length>1?void 0===(r=t)[1]?ee[0]+re[r[0]]:ee[r[0]]+re[r[1]]:(t=>void 0===t[1]?re[t[0]]:ee[t[0]]+re[t[1]])(t);var r};return e.reduce(((t,e)=>t+("~"===t?"":"-")+r(e)),"~")},ce=t=>{if(!1===me(t))throw new Error("patq2hex: not a valid @q");const e=t.slice(1).split("-"),r=t=>t.toString(16).padStart(2,"0"),n=e.map((t=>{let e=((t,e)=>[e.slice(0,t),e.slice(t)])(3,t);return""===e[1]?r(re.indexOf(e[0])):r(ee.indexOf(e[0]))+r(re.indexOf(e[1]))}));return 0===t.length?"00":n.join("")},fe=t=>{let e;try{e=(t=>new Zt(ce(t),"hex"))(t)}catch(t){throw new Error("patq2dec: not a valid @q")}return e.toString()},de=t=>{let e;try{e=ue(t)}catch(t){throw new Error("clan: not a valid @p")}const r=oe(Wt,e);return r.lte(Ht)?"galaxy":r.eq(Kt)?"star":r.lte(Yt)?"planet":r.lte(new Zt(8))?"moon":"comet"},me=t=>{if("string"!=typeof t)throw new Error("isValidPat: non-string input");if(!1===("~"===t.slice(0,1))||t.length<4)return!1;{const e=te(t),r=e.length%2!=0&&1!==e.length,n=e.reduce(((t,r,n)=>t&&(n%2!=0||1===e.length?re.includes(r):ee.includes(r))),!0);return!r&&n}},ve=t=>"00"===t.slice(0,2)?ve(t.slice(2)):t,ge=(t,e)=>{let r,n;try{r=ce(t)}catch(t){throw new Error("eqPatq: not a valid @q")}try{n=ce(e)}catch(t){throw new Error("eqPatq: not a valid @q")}return((t,e)=>Ft(ve(t),ve(e)))(r,n)},ye=t=>{if(null===t)throw new Error("patp: null input");const e=new Zt(t),r=Vt.fein(e),n=oe(Yt,r),i=(t,e,r)=>{const o=ae(Yt,Ht,t),a=ee[ie(Wt,Ht,o)]+re[ae(Wt,Ht,o)]+(e.mod(Yt).eq(Jt)?e.eq(Jt)?"":"--":"-")+r;return e.eq(n)?r:i(ie(Yt,Ht,t),e.add(Ht),a)};return"~"+(oe(Wt,r).lte(Ht)?re[r]:i(r,Jt,""))};const we={patp:ye,patp2hex:se,hex2patp:t=>{if(null===t)throw new Error("hex2patp: null input");return ye(new Zt(t,"hex"))},patp2dec:he,sein:t=>{let e,r;try{e=ue(t)}catch(t){throw new Error("sein: not a valid @p")}try{r=de(t)}catch(t){throw new Error("sein: not a valid @p")}const n="galaxy"===r?e:"star"===r?ae(Wt,Ht,e):"planet"===r?ae(Yt,Ht,e):"moon"===r?ae(Xt,Ht,e):Jt;return ye(n)},clan:de,patq:le,patq2hex:ce,hex2patq:t=>{const e=t.length%2!=0?t.padStart(t.length+1,"0"):t,r=Buffer.from(e,"hex");return pe(r)},patq2dec:fe,eqPatq:ge,isValidPat:me,isValidPatp:t=>me(t)&&t===ye(he(t)),isValidPatq:t=>me(t)&&ge(t,le(fe(t)))},be=Ut;var Me=Object.assign(we,be);const ke=(t,e="",r="",n)=>{const i=e+"/"+J(Date.now()).toString(),o={};return o[r]={post:{author:`~${t}`,index:i+"/"+r,"time-sent":Date.now(),contents:n,hash:null,signatures:[]},children:null},{post:{author:`~${t}`,index:i,"time-sent":Date.now(),contents:[],hash:null,signatures:[]},children:o}},_e=t=>(Object.keys(t).forEach((e=>{t[e].post.author=W(t[e].post.author),t[e].post.pending=!0,t[e].children&&(t[e].children=_e(t[e].children))})),t),Ae=(t,e,r="",n="DATE_PLACEHOLDER")=>("DATE_PLACEHOLDER"===n&&(n=J(Date.now()).toString()),{author:`~${t}`,index:r+"/"+n,"time-sent":Date.now(),contents:e,hash:null,signatures:[]});function Se(t){return"link"===t?"graph-validator-link":"publish"===t?"graph-validator-publish":"chat"===t?"graph-validator-chat":void 0}const je=(t,e=3)=>({app:"graph-store",mark:`graph-update-${e}`,json:t}),Oe=(t,e)=>({inputMark:"graph-view-action",outputMark:"json",threadName:t,body:e}),xe=(t,e=3)=>({app:"graph-push-hook",mark:`graph-update-${e}`,json:t}),Pe=t=>({app:"dm-hook",mark:"dm-hook-action",json:t}),Ee=(t,e,r,n,i,o)=>{const a={group:$(i)},s=B(`~${t}`,e);return Oe("graph-create",{create:{resource:s,title:r,description:n,associated:a,module:o,mark:Se(o)}})},Ne=(t,e,r,n,i,o)=>Oe("graph-create",{create:{resource:B(`~${t}`,e),title:r,description:n,associated:{policy:i},module:o,mark:Se(o)}}),Ie=(t,e)=>Oe("graph-join",{join:{resource:B(t,e),ship:t}}),qe=(t,e)=>Oe("graph-delete",{delete:{resource:B(`~${t}`,e)}}),Te=(t,e)=>Oe("graph-leave",{leave:{resource:B(t,e)}}),$e=(t,e,r)=>{const n=B(t,e),i=r&&$(r);return Oe("graph-groupify",{groupify:{resource:n,to:i}})},Be=t=>({inputMark:"graph-view-action",outputMark:"tang",threadName:"graph-eval",body:{eval:t}}),De=(t,e,r,n)=>je({"add-graph":{resource:{ship:t,name:e},graph:r,mark:n}}),Re=(t,e,r)=>({inputMark:"graph-update-3",outputMark:"graph-view-action",threadName:"graph-add-nodes",body:{"add-nodes":{resource:{ship:t,name:e},nodes:r}}}),Ce=(t,e,r)=>{const n={};return n[r.index]={post:r,children:null},Re(t,e,n)},ze=(t,e,r)=>{const n={};return n[r.post.index]=r,Re(t,e,n)},Ge=(t,e="")=>({inputMark:"graph-view-action",outputMark:"resource",threadName:"graph-create-group-feed",body:{"create-group-feed":{resource:t,vip:e}}}),Ue=t=>({inputMark:"graph-view-action",outputMark:"json",threadName:"graph-disable-group-feed",body:{"disable-group-feed":{resource:t}}}),Ze=t=>Pe({screen:t}),Le=t=>Pe({accept:t}),Fe=t=>Pe({decline:t}),Ve=(t,e,r)=>xe({"remove-posts":{resource:{ship:t,name:e},indices:r}}),Je=(t,e)=>({app:"graph-store",mark:"graph-update-3",json:{"remove-posts":{resource:{ship:t,name:"dm-inbox"},indices:[e]}}}),He=(t,e,r)=>{const n=Ae(t,r,`/${Me.patp2dec(e)}`),i={post:n,children:null};return{app:"dm-hook",mark:"graph-update-3",json:{"add-nodes":{resource:{ship:`~${t}`,name:"dm-inbox"},nodes:{[n.index]:i}}}}},Ke=t=>t.split("/").map(K).join("/"),We=()=>({app:"graph-store",path:"/keys"}),Ye=(t,e,r,n="")=>({app:"graph-store",path:`/graph/${t}/${e}/node/siblings/newest/lone/${r}${Ke(n)}`}),Xe=(t,e,r,n)=>({app:"graph-store",path:`/graph/${t}/${e}/node/siblings/older/lone/${r}${Ke(n)}`}),Qe=(t,e,r,n)=>({app:"graph-store",path:`/graph/${t}/${e}/node/siblings/newer/lone/${r}${Ke(n)}`}),tr=(t,e,r="")=>({app:"graph-store",path:`/graph/${t}/${e}/node/children/lone/~/~${Ke(r)}`}),er=(t,e,r,n="")=>({app:"graph-store",path:`/graph/${t}/${e}/node/siblings/`+(n.length>0?"older":"newest")+`/kith/${r}${Ke(n)}`}),rr=(t,e,r)=>({app:"graph-store",path:`/graph/${t}/${e}/node/firstborn${Ke(r)}`}),nr=(t,e,r)=>({app:"graph-store",path:`/graph/${t}/${e}/node/index/kith${Ke(r)}`}),ir=(t,e)=>({app:"graph-store",path:`/graph/${t}/${e}`});var or=Object.freeze({__proto__:null,GRAPH_UPDATE_VERSION:3,createBlankNodeWithChildPost:ke,markPending:_e,createPost:Ae,graphStoreAction:je,graphViewAction:Oe,graphHookAction:xe,createManagedGraph:Ee,createUnmanagedGraph:Ne,joinGraph:Ie,deleteGraph:qe,leaveGraph:Te,groupifyGraph:$e,evalCord:Be,addGraph:De,addNodes:Re,addPost:Ce,addNode:ze,createGroupFeed:Ge,disableGroupFeed:Ue,setScreen:Ze,acceptDm:Le,declineDm:Fe,removePosts:Ve,removeDmMessage:Je,addDmMessage:He,getKeys:We,getNewest:Ye,getOlderSiblings:Xe,getYoungerSiblings:Qe,getShallowChildren:tr,getDeepOlderThan:er,getFirstborn:rr,getNode:nr,getGraph:ir});const ar=t=>({app:"hark-store",mark:"hark-action",json:t}),sr=t=>({app:"hark-graph-hook",mark:"hark-graph-hook-action",json:t}),ur=t=>({app:"hark-group-hook",mark:"hark-group-hook-action",json:t}),hr=(t,e,r)=>ar({[t]:{time:K(e.toString()),bin:r}}),lr=t=>sr({"set-mentions":t}),pr=t=>sr({"set-watch-on-self":t}),cr=t=>ar({"set-dnd":t}),fr=(t,e)=>ar({"add-note":{bin:t,body:e}}),dr=(t,e)=>ar({archive:{lid:e,bin:t}}),mr=ar({opened:null}),vr=t=>ar({"read-count":t}),gr=(t,e)=>ar({"read-each":{place:t,path:e}}),yr=()=>ar({seen:null}),wr=ar({"read-all":null}),br=ar({"archive-all":null}),Mr=t=>ur({ignore:t}),kr=(t,e)=>sr({ignore:{graph:t,index:e}}),_r=t=>ur({listen:t}),Ar=(t,e)=>sr({listen:{graph:t,index:e}}),Sr=t=>ar({"read-group":t}),jr=t=>ar({"read-graph":t});function Or(t){const{place:e,path:r}=t;return`${e.desk}${e.path}${r}`}function xr(t,e){return t.place.path===e.place.path&&t.place.desk===e.place.desk&&t.path===e.path}function Pr(t){return"time"in t?`archive-${t.time}`:Object.keys(t)[0]}var Er=Object.freeze({__proto__:null,harkAction:ar,harkGraphHookAction:sr,harkGroupHookAction:ur,actOnNotification:hr,setMentions:lr,setWatchOnSelf:pr,setDoNotDisturb:cr,addNote:fr,archive:dr,opened:mr,markCountAsRead:vr,markEachAsRead:gr,seen:yr,readAll:wr,archiveAll:br,ignoreGroup:Mr,ignoreGraph:kr,listenGroup:_r,listenGraph:Ar,readGroup:Sr,readGraph:jr,harkBinToId:Or,harkBinEq:xr,harkLidToId:Pr});const Nr=t=>({app:"invite-store",mark:"invite-action",json:t}),Ir=(t,e=2)=>({app:"metadata-push-hook",mark:`metadata-update-${e}`,json:t}),qr=(t,e,r,n,i,o,a,s,u)=>Ir({add:{group:n,resource:{resource:r,"app-name":e},metadata:{title:i,description:o,color:s,"date-created":a,creator:`~${t}`,config:{graph:u},picture:"",hidden:!1,preview:!1,vip:""}}}),Tr=(t,e,r)=>Ir({remove:{group:r,resource:{resource:e,"app-name":t}}}),$r=(t,e)=>Ir({edit:{group:t.group,resource:{resource:t.resource,"app-name":t["app-name"]},edit:e}}),Br=(t,e)=>{const r={...t.metadata,...e};return r.color=Y(r.color),Ir({add:{group:t.group,resource:{resource:t.resource,"app-name":t["app-name"]},metadata:r}})};var Dr=Object.freeze({__proto__:null,METADATA_UPDATE_VERSION:2,metadataAction:Ir,add:qr,metadataAdd:qr,remove:Tr,metadataRemove:Tr,edit:$r,metadataEdit:$r,update:Br,metadataUpdate:Br});const Rr=t=>({app:"settings-store",mark:"settings-event",json:t}),Cr=(t,e,r)=>Rr({"put-bucket":{desk:t,"bucket-key":e,bucket:r}}),zr=(t,e)=>Rr({"del-bucket":{desk:t,"bucket-key":e}}),Gr=(t,e,r,n)=>Rr({"put-entry":{desk:t,"bucket-key":e,"entry-key":r,value:n}}),Ur=(t,e,r)=>Rr({"del-entry":{desk:t,"bucket-key":e,"entry-key":r}}),Zr={app:"settings-store",path:"/all"},Lr=(t,e)=>({app:"settings-store",path:`/bucket/${e}`}),Fr=(t,e,r)=>({app:"settings-store",path:`/entry/${t}/${e}/${r}`}),Vr=t=>({app:"settings-store",path:`/desk/${t}`});var Jr=Object.freeze({__proto__:null,action:Rr,putBucket:Cr,delBucket:zr,putEntry:Gr,delEntry:Ur,getAll:Zr,getBucket:Lr,getEntry:Fr,getDeskSettings:Vr});const Hr=t=>({app:"s3-store",mark:"s3-action",json:t}),Kr=t=>Hr({"set-current-bucket":t}),Wr=t=>Hr({"add-bucket":t}),Yr=t=>Hr({"remove-bucket":t}),Xr=t=>Hr({"set-endpoint":t}),Qr=t=>Hr({"set-access-key-id":t}),tn=t=>Hr({"set-secret-access-key":t});var en=Object.freeze({__proto__:null,setCurrentBucket:Kr,addBucket:Wr,removeBucket:Yr,setEndpoint:Xr,setAccessKeyId:Qr,setSecretAccessKey:tn});function rn(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];if("production"!==process.env.NODE_ENV){var i=Vn[t],o=i?"function"==typeof i?i.apply(null,r):i:"unknown error nr: "+t;throw Error("[Immer] "+o)}throw Error("[Immer] minified error nr: "+t+(r.length?" "+r.map((function(t){return"'"+t+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function nn(t){return!!t&&!!t[Fn]}function on(t){return!!t&&(function(t){if(!t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);if(null===e)return!0;var r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===Jn}(t)||Array.isArray(t)||!!t[Ln]||!!t.constructor[Ln]||pn(t)||cn(t))}function an(t,e,r){void 0===r&&(r=!1),0===sn(t)?(r?Object.keys:Hn)(t).forEach((function(n){r&&"symbol"==typeof n||e(n,t[n],t)})):t.forEach((function(r,n){return e(n,r,t)}))}function sn(t){var e=t[Fn];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:pn(t)?2:cn(t)?3:0}function un(t,e){return 2===sn(t)?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function hn(t,e){return 2===sn(t)?t.get(e):t[e]}function ln(t,e,r){var n=sn(t);2===n?t.set(e,r):3===n?(t.delete(e),t.add(r)):t[e]=r}function pn(t){return zn&&t instanceof Map}function cn(t){return Gn&&t instanceof Set}function fn(t){return t.o||t.t}function dn(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=Kn(t);delete e[Fn];for(var r=Hn(e),n=0;n<r.length;n++){var i=r[n],o=e[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(e[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function mn(t,e){return void 0===e&&(e=!1),gn(t)||nn(t)||!on(t)||(sn(t)>1&&(t.set=t.add=t.clear=t.delete=vn),Object.freeze(t),e&&an(t,(function(t,e){return mn(e,!0)}),!0)),t}function vn(){rn(2)}function gn(t){return null==t||"object"!=typeof t||Object.isFrozen(t)}function yn(t){var e=Wn[t];return e||rn(18,t),e}function wn(){return"production"===process.env.NODE_ENV||Rn||rn(0),Rn}function bn(t,e){e&&(yn("Patches"),t.u=[],t.s=[],t.v=e)}function Mn(t){kn(t),t.p.forEach(An),t.p=null}function kn(t){t===Rn&&(Rn=t.l)}function _n(t){return Rn={p:[],l:Rn,h:t,m:!0,_:0}}function An(t){var e=t[Fn];0===e.i||1===e.i?e.j():e.O=!0}function Sn(t,e){e._=e.p.length;var r=e.p[0],n=void 0!==t&&t!==r;return e.h.g||yn("ES5").S(e,t,n),n?(r[Fn].P&&(Mn(e),rn(4)),on(t)&&(t=jn(e,t),e.l||xn(e,t)),e.u&&yn("Patches").M(r[Fn],t,e.u,e.s)):t=jn(e,r,[]),Mn(e),e.u&&e.v(e.u,e.s),t!==Zn?t:void 0}function jn(t,e,r){if(gn(e))return e;var n=e[Fn];if(!n)return an(e,(function(i,o){return On(t,n,e,i,o,r)}),!0),e;if(n.A!==t)return e;if(!n.P)return xn(t,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var i=4===n.i||5===n.i?n.o=dn(n.k):n.o;an(3===n.i?new Set(i):i,(function(e,o){return On(t,n,i,e,o,r)})),xn(t,i,!1),r&&t.u&&yn("Patches").R(n,r,t.u,t.s)}return n.o}function On(t,e,r,n,i,o){if("production"!==process.env.NODE_ENV&&i===r&&rn(5),nn(i)){var a=jn(t,i,o&&e&&3!==e.i&&!un(e.D,n)?o.concat(n):void 0);if(ln(r,n,a),!nn(a))return;t.m=!1}if(on(i)&&!gn(i)){if(!t.h.F&&t._<1)return;jn(t,i),e&&e.A.l||xn(t,i)}}function xn(t,e,r){void 0===r&&(r=!1),t.h.F&&t.m&&mn(e,r)}function Pn(t,e){var r=t[Fn];return(r?fn(r):t)[e]}function En(t,e){if(e in t)for(var r=Object.getPrototypeOf(t);r;){var n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Object.getPrototypeOf(r)}}function Nn(t){t.P||(t.P=!0,t.l&&Nn(t.l))}function In(t){t.o||(t.o=dn(t.t))}function qn(t,e,r){var n=pn(e)?yn("MapSet").N(e,r):cn(e)?yn("MapSet").T(e,r):t.g?function(t,e){var r=Array.isArray(t),n={i:r?1:0,A:e?e.A:wn(),P:!1,I:!1,D:{},l:e,t,k:null,o:null,j:null,C:!1},i=n,o=Yn;r&&(i=[n],o=Xn);var a=Proxy.revocable(i,o),s=a.revoke,u=a.proxy;return n.k=u,n.j=s,u}(e,r):yn("ES5").J(e,r);return(r?r.A:wn()).p.push(n),n}function Tn(t){return nn(t)||rn(22,t),function t(e){if(!on(e))return e;var r,n=e[Fn],i=sn(e);if(n){if(!n.P&&(n.i<4||!yn("ES5").K(n)))return n.t;n.I=!0,r=$n(e,i),n.I=!1}else r=$n(e,i);return an(r,(function(e,i){n&&hn(n.t,e)===i||ln(r,e,t(i))})),3===i?new Set(r):r}(t)}function $n(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return dn(t)}function Bn(){function t(e){if(!on(e))return e;if(Array.isArray(e))return e.map(t);if(pn(e))return new Map(Array.from(e.entries()).map((function(e){return[e[0],t(e[1])]})));if(cn(e))return new Set(Array.from(e).map(t));var r=Object.create(Object.getPrototypeOf(e));for(var n in e)r[n]=t(e[n]);return un(e,Ln)&&(r[Ln]=e[Ln]),r}function e(e){return nn(e)?t(e):e}var r="add";!function(t,e){Wn[t]||(Wn[t]=e)}("Patches",{$:function(e,n){return n.forEach((function(n){for(var i=n.path,o=n.op,a=e,s=0;s<i.length-1;s++){var u=sn(a),h=""+i[s];0!==u&&1!==u||"__proto__"!==h&&"constructor"!==h||rn(24),"function"==typeof a&&"prototype"===h&&rn(24),"object"!=typeof(a=hn(a,h))&&rn(15,i.join("/"))}var l=sn(a),p=t(n.value),c=i[i.length-1];switch(o){case"replace":switch(l){case 2:return a.set(c,p);case 3:rn(16);default:return a[c]=p}case r:switch(l){case 1:return a.splice(c,0,p);case 2:return a.set(c,p);case 3:return a.add(p);default:return a[c]=p}case"remove":switch(l){case 1:return a.splice(c,1);case 2:return a.delete(c);case 3:return a.delete(n.value);default:return delete a[c]}default:rn(17,o)}})),e},R:function(t,n,i,o){switch(t.i){case 0:case 4:case 2:return function(t,n,i,o){var a=t.t,s=t.o;an(t.D,(function(t,u){var h=hn(a,t),l=hn(s,t),p=u?un(a,t)?"replace":r:"remove";if(h!==l||"replace"!==p){var c=n.concat(t);i.push("remove"===p?{op:p,path:c}:{op:p,path:c,value:l}),o.push(p===r?{op:"remove",path:c}:"remove"===p?{op:r,path:c,value:e(h)}:{op:"replace",path:c,value:e(h)})}}))}(t,n,i,o);case 5:case 1:return function(t,n,i,o){var a=t.t,s=t.D,u=t.o;if(u.length<a.length){var h=[u,a];a=h[0],u=h[1];var l=[o,i];i=l[0],o=l[1]}for(var p=0;p<a.length;p++)if(s[p]&&u[p]!==a[p]){var c=n.concat([p]);i.push({op:"replace",path:c,value:e(u[p])}),o.push({op:"replace",path:c,value:e(a[p])})}for(var f=a.length;f<u.length;f++){var d=n.concat([f]);i.push({op:r,path:d,value:e(u[f])})}a.length<u.length&&o.push({op:"replace",path:n.concat(["length"]),value:a.length})}(t,n,i,o);case 3:return function(t,e,n,i){var o=t.t,a=t.o,s=0;o.forEach((function(t){if(!a.has(t)){var o=e.concat([s]);n.push({op:"remove",path:o,value:t}),i.unshift({op:r,path:o,value:t})}s++})),s=0,a.forEach((function(t){if(!o.has(t)){var a=e.concat([s]);n.push({op:r,path:a,value:t}),i.unshift({op:"remove",path:a,value:t})}s++}))}(t,n,i,o)}},M:function(t,e,r,n){r.push({op:"replace",path:[],value:e===Zn?void 0:e}),n.push({op:"replace",path:[],value:t.t})}})}var Dn,Rn,Cn="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),zn="undefined"!=typeof Map,Gn="undefined"!=typeof Set,Un="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Zn=Cn?Symbol.for("immer-nothing"):((Dn={})["immer-nothing"]=!0,Dn),Ln=Cn?Symbol.for("immer-draftable"):"__$immer_draftable",Fn=Cn?Symbol.for("immer-state"):"__$immer_state",Vn={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(t){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+t},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(t){return"Cannot apply patch, path doesn't resolve: "+t},16:'Sets cannot have "replace" patches.',17:function(t){return"Unsupported patch operation: "+t},18:function(t){return"The plugin for '"+t+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+t+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(t){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+t+"'"},22:function(t){return"'current' expects a draft, got: "+t},23:function(t){return"'original' expects a draft, got: "+t},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"},Jn=""+Object.prototype.constructor,Hn="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,Kn=Object.getOwnPropertyDescriptors||function(t){var e={};return Hn(t).forEach((function(r){e[r]=Object.getOwnPropertyDescriptor(t,r)})),e},Wn={},Yn={get:function(t,e){if(e===Fn)return t;var r=fn(t);if(!un(r,e))return function(t,e,r){var n,i=En(e,r);return i?"value"in i?i.value:null===(n=i.get)||void 0===n?void 0:n.call(t.k):void 0}(t,r,e);var n=r[e];return t.I||!on(n)?n:n===Pn(t.t,e)?(In(t),t.o[e]=qn(t.A.h,n,t)):n},has:function(t,e){return e in fn(t)},ownKeys:function(t){return Reflect.ownKeys(fn(t))},set:function(t,e,r){var n=En(fn(t),e);if(null==n?void 0:n.set)return n.set.call(t.k,r),!0;if(!t.P){var i=Pn(fn(t),e),o=null==i?void 0:i[Fn];if(o&&o.t===r)return t.o[e]=r,t.D[e]=!1,!0;if(function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}(r,i)&&(void 0!==r||un(t.t,e)))return!0;In(t),Nn(t)}return t.o[e]===r&&"number"!=typeof r&&(void 0!==r||e in t.o)||(t.o[e]=r,t.D[e]=!0,!0)},deleteProperty:function(t,e){return void 0!==Pn(t.t,e)||e in t.t?(t.D[e]=!1,In(t),Nn(t)):delete t.D[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var r=fn(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n?{writable:!0,configurable:1!==t.i||"length"!==e,enumerable:n.enumerable,value:r[e]}:n},defineProperty:function(){rn(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){rn(12)}},Xn={};an(Yn,(function(t,e){Xn[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}})),Xn.deleteProperty=function(t,e){return"production"!==process.env.NODE_ENV&&isNaN(parseInt(e))&&rn(13),Yn.deleteProperty.call(this,t[0],e)},Xn.set=function(t,e,r){return"production"!==process.env.NODE_ENV&&"length"!==e&&isNaN(parseInt(e))&&rn(14),Yn.set.call(this,t[0],e,r,t[0])};var Qn=function(){function t(t){var e=this;this.g=Un,this.F=!0,this.produce=function(t,r,n){if("function"==typeof t&&"function"!=typeof r){var i=r;r=t;var o=e;return function(t){var e=this;void 0===t&&(t=i);for(var n=arguments.length,a=Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];return o.produce(t,(function(t){var n;return(n=r).call.apply(n,[e,t].concat(a))}))}}var a;if("function"!=typeof r&&rn(6),void 0!==n&&"function"!=typeof n&&rn(7),on(t)){var s=_n(e),u=qn(e,t,void 0),h=!0;try{a=r(u),h=!1}finally{h?Mn(s):kn(s)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(t){return bn(s,n),Sn(t,s)}),(function(t){throw Mn(s),t})):(bn(s,n),Sn(a,s))}if(!t||"object"!=typeof t){if((a=r(t))===Zn)return;return void 0===a&&(a=t),e.F&&mn(a,!0),a}rn(21,t)},this.produceWithPatches=function(t,r){return"function"==typeof t?function(r){for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return e.produceWithPatches(r,(function(e){return t.apply(void 0,[e].concat(i))}))}:[e.produce(t,r,(function(t,e){n=t,i=e})),n,i];var n,i},"boolean"==typeof(null==t?void 0:t.useProxies)&&this.setUseProxies(t.useProxies),"boolean"==typeof(null==t?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze)}var e=t.prototype;return e.createDraft=function(t){on(t)||rn(8),nn(t)&&(t=Tn(t));var e=_n(this),r=qn(this,t,void 0);return r[Fn].C=!0,kn(e),r},e.finishDraft=function(t,e){var r=t&&t[Fn];"production"!==process.env.NODE_ENV&&(r&&r.C||rn(9),r.I&&rn(10));var n=r.A;return bn(n,e),Sn(void 0,n)},e.setAutoFreeze=function(t){this.F=t},e.setUseProxies=function(t){t&&!Un&&rn(20),this.g=t},e.applyPatches=function(t,e){var r;for(r=e.length-1;r>=0;r--){var n=e[r];if(0===n.path.length&&"replace"===n.op){t=n.value;break}}var i=yn("Patches").$;return nn(t)?i(t,e):this.produce(t,(function(t){return i(t,e.slice(r+1))}))},t}(),ti=new Qn,ei=ti.produce;ti.produceWithPatches.bind(ti);var ri=ti.setAutoFreeze.bind(ti);ti.setUseProxies.bind(ti),ti.applyPatches.bind(ti),ti.createDraft.bind(ti),ti.finishDraft.bind(ti);var ni=ei;ri(!1),Bn();class ii{root={};cachedIter=null;[Ln]=!0;constructor(t=[]){t.forEach((([t,e])=>{this.set(t,e)}))}get size(){return this.cachedIter?this.cachedIter.length:this.generateCachedIter().length}get(t){return this.root[t.toString()]??null}gas(t){return ni(this,(e=>{t.forEach((([t,r])=>{e.root[t.toString()]=r})),e.cachedIter=null}),(t=>{}))}set(t,e){return ni(this,(r=>{r.root[t.toString()]=e,r.cachedIter=null}))}clear(){return ni(this,(t=>{t.cachedIter=[],t.root={}}))}has(t){return t.toString()in this.root}delete(t){return ni(this,(e=>{delete e.root[t.toString()],e.cachedIter=null}))}[Symbol.iterator](){let t=0;const e=this.generateCachedIter();return{[Symbol.iterator]:this[Symbol.iterator],next:()=>t<e.length?{value:e[t++],done:!1}:{done:!0,value:null}}}peekLargest(){return Array.from(this)[0]}peekSmallest(){const t=Array.from(this);return t[t.length-1]}keys(){return Array.from(this).map((([t,e])=>t))}generateCachedIter(){if(this.cachedIter)return[...this.cachedIter];const t=Object.keys(this.root).map((t=>[Z(t),this.root[t]])).sort((([t],[e])=>function(t,e){return t.lt(e)?1:t.eq(e)?0:-1}(t,e)));return this.cachedIter=t,[...t]}}function oi(t){return t.split("/").slice(1).map((t=>Z(t)))}function ai(t){let e="";return t.forEach((t=>{e+=`/${t.toString()}`})),e}function si(t,e){const r=t.length,n=e.length,i=t.slice(0),o=e.slice(0);i.reverse(),o.reverse();let a=0;for(;a<r&&a<n;){if(i[a].lt(o[a]))return 1;if(i[a].gt(o[a]))return-1;a++}return n-r}ri(!1),Bn();class ui{root={};cachedIter=null;[Ln]=!0;reversed=!1;constructor(t=[],e=!1){t.forEach((([t,e])=>{this.set(t,e)})),this.reversed=e}get size(){return Object.keys(this.root).length}get(t){return this.root[ai(t)]??null}gas(t){return ni(this,(e=>{t.forEach((([t,r])=>{e.root[ai(t)]=r})),e.generateCachedIter()}),(t=>{}))}set(t,e){return ni(this,(r=>{r.root[ai(t)]=e,r.cachedIter=null}))}clear(){return ni(this,(t=>{t.cachedIter=[],t.root={}}))}has(t){return ai(t)in this.root}delete(t){return ni(this,(e=>{delete e.root[ai(t)],e.cachedIter=null}))}[Symbol.iterator](){let t=0;const e=this.generateCachedIter();return{[Symbol.iterator]:this[Symbol.iterator],next:()=>t<e.length?{value:e[t++],done:!1}:{done:!0,value:null}}}peekLargest(){return Array.from(this)[0]}peekSmallest(){const t=Array.from(this);return t[t.length-1]}keys(){return Array.from(this).map((([t,e])=>t))}generateCachedIter(){if(this.cachedIter)return[...this.cachedIter];const t=Object.keys(this.root).map((t=>[oi(t),this.root[t]])).sort((([t],[e])=>function(t,e,r=!1){const n=si(t,e);return r?-1*n:n}(t,e,this.reversed)));return this.cachedIter=t,[...t]}}const hi={app:"hood",path:"/kiln/pikes"};function li(t,e,r){return{app:"hood",mark:"kiln-install",json:{ship:t,desk:e,local:r||e}}}function pi(t,e,r){return{app:"hood",mark:"kiln-sync",json:{ship:t,desk:e,local:r||e}}}function ci(t,e,r){return{app:"hood",mark:"kiln-unsync",json:{ship:t,desk:e,local:r||e}}}function fi(t){return{app:"hood",mark:"kiln-uninstall",json:t}}function di(t){return{app:"hood",mark:"kiln-suspend",json:t}}function mi(t){return{app:"hood",mark:"kiln-revive",json:t}}function vi(){return{app:"hood",mark:"kiln-bump",json:null}}function gi(t){return{app:"hood",mark:"kiln-pause",json:t}}function yi(t){return{app:"hood",mark:"kiln-resume",json:t}}const wi={app:"hood",path:"/kiln/lag"};function bi(t){return t.sync?.ship}var Mi=Object.freeze({__proto__:null,getPikes:hi,kilnInstall:li,kilnSync:pi,kilnUnsync:ci,kilnUninstall:fi,kilnSuspend:di,kilnRevive:mi,kilnBump:vi,kilnPause:gi,kilnResume:yi,scryLag:wi,getPikePublisher:bi});function ki(t){return"glob"in t||"site"in t}const _i={app:"docket",path:"/charges"},Ai={app:"docket",path:"/dockets"},Si={app:"treaty",path:"/treaties"},ji={app:"treaty",path:"/default-ally"},Oi={app:"treaty",path:"/allies"},xi=t=>({app:"treaty",path:`/treaties/${t}`});function Pi(t){return{app:"docket",mark:"docket-uninstall",json:t}}function Ei(t,e){return{app:"docket",mark:"docket-install",json:`${t}/${e}`}}function Ni(t){return{app:"treaty",mark:"ally-update-0",json:{add:t}}}var Ii=Object.freeze({__proto__:null,chadIsRunning:ki,scryCharges:_i,scryDockets:Ai,scryTreaties:Si,scryDefaultAlly:ji,scryAllies:Oi,scryAllyTreaties:xi,docketUninstall:Pi,docketInstall:Ei,allyShip:Ni});const qi=(t,e)=>({app:"herm",mark:"herm-task",json:{session:t,...e}}),Ti=(t,e)=>qi(t,{belt:e}),$i=()=>[""];var Bi=Object.freeze({__proto__:null,pokeTask:qi,pokeBelt:Ti,scrySessions:$i});t.BigIntArrayOrderedMap=ui,t.BigIntOrderedMap=ii,t.CONTACT_UPDATE_VERSION=0,t.GRAPH_UPDATE_VERSION=3,t.GROUP_UPDATE_VERSION=0,t.METADATA_UPDATE_VERSION=2,t.abortJoin=O,t.accept=(t,e)=>Nr({accept:{term:t,uid:e}}),t.acceptDm=Le,t.actOnNotification=hr,t.action=Rr,t.add=qr,t.addBucket=Wr,t.addContact=r,t.addDmMessage=He,t.addGraph=De,t.addMembers=w,t.addNode=ze,t.addNodes=Re,t.addNote=fr,t.addPost=Ce,t.addTag=g,t.allowGroup=s,t.allowShips=a,t.allyShip=Ni,t.archive=dr,t.archiveAll=br,t.arrToString=ai,t.buntPost=()=>({author:"",contents:[],hash:null,index:"",signatures:[],"time-sent":0}),t.chadIsRunning=ki,t.changePolicy=M,t.cite=function(t){let e=t,r="";return null===e||""===e?null:(e.startsWith("~")&&(e=e.substr(1)),56===e.length?(r="~"+e.slice(0,6)+"_"+e.slice(50,56),r):27===e.length?(r="~"+e.slice(14,20)+"^"+e.slice(21,27),r):`~${e}`)},t.contactStoreAction=e,t.contacts=p,t.createBlankNodeWithChildPost=ke,t.createGroup=_,t.createGroupFeed=Ge,t.createManagedGraph=Ee,t.createPost=Ae,t.createUnmanagedGraph=Ne,t.daToDate=function(t){const e=function(t){return parseInt(t)<10?"0"+parseInt(t):t.toString()},r=t.split(".."),n=r[0].split("."),i=r[1].split("."),o=`${n[0].slice(1)}-${e(n[1])}-${e(n[2])}T${e(i[0])}:${e(i[1])}:${e(i[2])}Z`;return new Date(o)},t.daToUnix=function(t){const e=F.divide(Z(2e3)).add(t.subtract(L));return Math.round(e.multiply(Z(1e3)).divide(F).toJSNumber())},t.dateToDa=function(t,e=!1){const r=function(t){return t>=10?t:"0"+t};return`~${t.getUTCFullYear()}.${t.getUTCMonth()+1}.${r(t.getUTCDate())}..${r(t.getUTCHours())}.${r(t.getUTCMinutes())}.${r(t.getUTCSeconds())}`+(e?"..0000":"")},t.deSig=W,t.decToUd=K,t.decline=(t,e)=>Nr({decline:{term:t,uid:e}}),t.declineDm=Fe,t.delBucket=zr,t.delEntry=Ur,t.deleteGraph=qe,t.deleteGroup=A,t.disableGroupFeed=Ue,t.docket=Ii,t.docketInstall=Ei,t.docketUninstall=Pi,t.edit=$r,t.editContact=o,t.evalCord=Be,t.fetchIsAllowed=l,t.getAll=Zr,t.getBucket=Lr,t.getDeepOlderThan=er,t.getDeskSettings=Vr,t.getEntry=Fr,t.getFirstborn=rr,t.getGraph=ir,t.getKeys=We,t.getNewest=Ye,t.getNode=nr,t.getOlderSiblings=Xe,t.getPikePublisher=bi,t.getPikes=hi,t.getShallowChildren=tr,t.getYoungerSiblings=Qe,t.graph=or,t.graphHookAction=xe,t.graphStoreAction=je,t.graphViewAction=Oe,t.groupBunts=P,t.groupStoreAction=f,t.groupViewAction=d,t.groupifyGraph=$e,t.groups=z,t.hark=Er,t.harkAction=ar,t.harkBinEq=xr,t.harkBinToId=Or,t.harkGraphHookAction=sr,t.harkGroupHookAction=ur,t.harkLidToId=Pr,t.hexToUx=t=>{const e=function(t,e){const r=t.slice();for(const n of t){if(!e(n))return r;r.shift()}return r}(t.split(""),(t=>"0"===t)),r=V(e.reverse(),4).map((t=>t.reverse().join(""))).reverse().join(".")||"0";return`0x${r}`},t.hood=Mi,t.ignoreGraph=kr,t.ignoreGroup=Mr,t.invite=j,t.inviteAction=Nr,t.isChannelAdmin=R,t.isHost=C,t.isWriter=D,t.join=k,t.joinError=E,t.joinGraph=Ie,t.joinLoad=I,t.joinProgress=q,t.joinResult=N,t.kilnBump=vi,t.kilnInstall=li,t.kilnPause=gi,t.kilnResume=yi,t.kilnRevive=mi,t.kilnSuspend=di,t.kilnSync=pi,t.kilnUninstall=fi,t.kilnUnsync=ci,t.leaveGraph=Te,t.leaveGroup=S,t.listenGraph=Ar,t.listenGroup=_r,t.makeNodeMap=function(t){const e={};return t.forEach((t=>{e[String(t.index)]={children:null,post:t}})),e},t.makePatDa=function(t){return Z(H(t))},t.makeResource=B,t.markCountAsRead=vr,t.markEachAsRead=gr,t.markPending=_e,t.metadata=Dr,t.metadataAction=Ir,t.metadataAdd=qr,t.metadataEdit=$r,t.metadataRemove=Tr,t.metadataUpdate=Br,t.opened=mr,t.pokeBelt=Ti,t.pokeTask=qi,t.preSig=function(t){return t?t.trim().startsWith("~")?t.trim():"~".concat(t.trim()):""},t.proxyAction=c,t.putBucket=Cr,t.putEntry=Gr,t.readAll=wr,t.readGraph=jr,t.readGroup=Sr,t.remove=Tr,t.removeBucket=Yr,t.removeContact=n,t.removeDmMessage=Je,t.removeGroup=b,t.removeMembers=v,t.removePosts=Ve,t.removeTag=y,t.resourceAsPath=function(t){const{name:e,ship:r}=t;return`/ship/~${r}/${e}`},t.resourceFromPath=$,t.retrieve=h,t.roleForShip=T,t.roleTags=x,t.s3=en,t.scryAllies=Oi,t.scryAllyTreaties=xi,t.scryCharges=_i,t.scryDefaultAlly=ji,t.scryDockets=Ai,t.scryLag=wi,t.scrySessions=$i,t.scryTreaties=Si,t.seen=yr,t.setAccessKeyId=Qr,t.setCurrentBucket=Kr,t.setDoNotDisturb=cr,t.setEndpoint=Xr,t.setMentions=lr,t.setPublic=u,t.setScreen=Ze,t.setSecretAccessKey=tn,t.setWatchOnSelf=pr,t.settings=Jr,t.share=i,t.sortBigIntArr=si,t.stringToArr=oi,t.stringToTa=function(t){let e="";for(let r=0;r<t.length;r++){const n=t[r];let i="";switch(n){case" ":i=".";break;case".":i="~.";break;case"~":i="~~";break;default:const e=t.charCodeAt(r);i=e>=97&&e<=122||e>=48&&e<=57||"-"===n?n:"~"+e.toString(16)+"."}e+=i}return"~."+e},t.term=Bi,t.udToDec=H,t.unixToDa=J,t.update=Br,t.uuid=function(){let t="0v";t+=Math.ceil(8*Math.random())+".";for(let e=0;e<5;e++){let e=Math.ceil(1e7*Math.random()).toString(32);e=("00000"+e).substr(-5,5),t+=e+"."}return t.slice(0,-1)},t.uxToHex=Y,t.viewThread=m}));
//# sourceMappingURL=urbit-api.min.js.map
